import{iN as kn,iO as Wn,iP as Nn,fo as Tt,b9 as Te,fp as Lt,j as f,A as jr,r as z,B as G,T as ue,en as cr,l as Ht,F as Mr,I as Tr,S as Lr,M as me,dW as Hr,m as $r,t as kr,b as $t,iQ as An,fn as In,V as qn,iR as dr,s as re,al as Wr,c4 as Bn,hP as Gn,c9 as Fn,E as Un,c5 as Yn,i as Ve,G as Xn,H as Vn,aE as Nr,D as fr,b1 as Kn,b3 as Zn,iS as Jn,iT as Ar,iU as Qn,iV as ye,iW as kt,g as ea,u as ta,e as ra,h as ht,aD as na,bh as pr}from"./index-CBxzHo9v.js";function hr(e){kn(1,arguments);var t=Nn(e);return Wn(t*1e3)}const aa=()=>{const e="api/admin/impact-metrics/metadata",{data:t,refetch:r,loading:n,error:a}=Tt(Te(e),()=>Lt(Te(e),"Impact metrics metadata"));return{metadata:t,refetch:r,loading:n,error:a}},oa=({value:e,onChange:t,options:r,loading:n=!1})=>f.jsx(jr,{options:r,getOptionLabel:a=>a.displayName,value:r.find(a=>a.name===e)||null,onChange:(a,o)=>t((o==null?void 0:o.name)||""),disabled:n,renderOption:(a,o,{inputValue:s})=>z.createElement(G,{component:"li",...a,key:o.name},f.jsxs(G,{sx:{display:"flex",flexDirection:"column"},children:[f.jsx(ue,{variant:"body2",children:f.jsx(cr,{search:s,children:o.displayName})}),f.jsx(ue,{variant:"caption",color:"text.secondary",children:f.jsx(cr,{search:s,children:o.help})})]})),renderInput:a=>f.jsx(Ht,{...a,label:"Data series",placeholder:"Search for a metric…",variant:"outlined",size:"small",required:!0}),noOptionsText:"No metrics available",sx:{minWidth:300}}),sa=({value:e,onChange:t})=>f.jsxs(Mr,{variant:"outlined",size:"small",sx:{minWidth:200},children:[f.jsx(Tr,{id:"range-select-label",children:"Time"}),f.jsxs(Lr,{labelId:"range-select-label",value:e,onChange:r=>t(r.target.value),label:"Time Range",children:[f.jsx(me,{value:"hour",children:"Last hour"}),f.jsx(me,{value:"day",children:"Last 24 hours"}),f.jsx(me,{value:"week",children:"Last 7 days"}),f.jsx(me,{value:"month",children:"Last 30 days"})]})]}),ia=({value:e,onChange:t,seriesType:r})=>r==="unknown"?null:f.jsxs(Mr,{variant:"outlined",size:"small",sx:{minWidth:200},children:[f.jsx(Tr,{id:"mode-select-label",children:"Mode"}),f.jsx(Lr,{labelId:"mode-select-label",value:e,onChange:n=>t(n.target.value),label:"Mode",children:r==="counter"?[f.jsx(me,{value:"rps",children:"Rate per second"},"rps"),f.jsx(me,{value:"count",children:"Count"},"count")]:[f.jsx(me,{value:"avg",children:"Average"},"avg"),f.jsx(me,{value:"sum",children:"Sum"},"sum")]})]}),gr=e=>{switch(e){case"hour":return"minute";case"day":return"hour";case"week":return"day";case"month":return"week";default:return"day"}},la=e=>{switch(e){case"hour":return"HH:mm";case"day":return"HH:mm";case"week":return"MMM dd";case"month":return"MMM dd";default:return"MMM dd"}},mr=e=>{const{__name__:t,...r}=e,n=Object.entries(r).filter(([a,o])=>a!=="__name__"&&o).map(([a,o])=>`${a}=${o}`).join(", ");return!t&&!n?"Series":t?n?`${t} (${n})`:t:n},ua=e=>e>=1e6?`${(e/1e6).toFixed(0)}M`:e>=1e3?`${(e/1e3).toFixed(0)}k`:e.toString(),Xe=e=>e.startsWith("unleash_counter_")?"counter":e.startsWith("unleash_gauge_")?"gauge":"unknown",ca=({formData:e,actions:t,metricSeries:r,loading:n})=>f.jsxs(G,{children:[f.jsxs(G,{sx:a=>({display:"flex",flexDirection:"column",gap:a.spacing(3)}),children:[f.jsx(ue,{variant:"body2",color:"text.secondary",children:"Select a custom metric to see its value over time. This can help you understand the impact of your feature rollout on key outcomes, such as system performance, usage patterns or error rates."}),f.jsx(oa,{value:e.selectedSeries,onChange:t.handleSeriesChange,options:r,loading:n}),e.selectedSeries?f.jsxs(f.Fragment,{children:[f.jsx(sa,{value:e.selectedRange,onChange:t.setSelectedRange}),f.jsx(ia,{value:e.aggregationMode,onChange:t.setAggregationMode,seriesType:Xe(e.selectedSeries)})]}):null]}),e.selectedSeries?f.jsx(Hr,{sx:a=>({margin:a.spacing(1.5,0)}),control:f.jsx($r,{checked:e.beginAtZero,onChange:a=>t.setBeginAtZero(a.target.checked)}),label:"Begin at zero"}):null]}),Ir=e=>{const t=!!(e!=null&&e.series&&(e!=null&&e.range)),n=(()=>{if(!e)return"";const i=new URLSearchParams({series:e.series,range:e.range});if(e.aggregationMode!==void 0&&i.append("aggregationMode",e.aggregationMode),e.labels&&Object.keys(e.labels).length>0){const u=Object.entries(e.labels).reduce((c,[d,p])=>(p.length>0&&(c[d]=p),c),{});Object.keys(u).length>0&&i.append("labels",JSON.stringify(u))}return`api/admin/impact-metrics/?${i.toString()}`})(),{data:a,refetch:o,loading:s,error:l}=Tt(t?Te(n):null,t?()=>Lt(Te(n),"Impact metrics data"):()=>Promise.resolve([]),{refreshInterval:30*1e3,revalidateOnFocus:!0});return{data:a||{series:[],labels:{}},refetch:o,loading:t?s:!1,error:l}},da=({open:e,initialConfig:t})=>{const[r,n]=z.useState((t==null?void 0:t.title)||""),[a,o]=z.useState((t==null?void 0:t.selectedSeries)||""),[s,l]=z.useState((t==null?void 0:t.selectedRange)||"day"),[i,u]=z.useState((t==null?void 0:t.beginAtZero)||!1),[c,d]=z.useState((t==null?void 0:t.selectedLabels)||{}),[p,h]=z.useState(((t==null?void 0:t.aggregationMode)||Xe(a))==="counter"?"count":"avg"),{data:{labels:w}}=Ir(a?{series:a,range:s,aggregationMode:p}:void 0);z.useEffect(()=>{e&&t?(n(t.title||""),o(t.selectedSeries),l(t.selectedRange),u(t.beginAtZero),d(t.selectedLabels),h(t.aggregationMode||(Xe(t.selectedSeries)==="counter"?"count":"avg"))):e&&!t&&(n(""),o(""),l("day"),u(!1),d({}),h("count"))},[e,t]);const S=v=>{o(v),d({});const y=Xe(v);y==="counter"?h("count"):y==="gauge"&&h("avg")},D=()=>({title:r||void 0,selectedSeries:a,selectedRange:s,beginAtZero:i,selectedLabels:c,aggregationMode:p}),g=a.length>0;return{formData:{title:r,selectedSeries:a,selectedRange:s,beginAtZero:i,aggregationMode:p,selectedLabels:c},actions:{setTitle:n,setSelectedSeries:o,setSelectedRange:l,setBeginAtZero:u,setAggregationMode:h,setSelectedLabels:d,handleSeriesChange:S,getConfigToSave:D},isValid:g,currentAvailableLabels:w}},fa=({labelKey:e,options:t,value:r,onChange:n})=>{const a=r.includes("*"),o=`autocomplete-${e}`,s=`select-all-${e}`;return f.jsxs(f.Fragment,{children:[f.jsx(Hr,{sx:l=>({marginLeft:l.spacing(0)}),control:f.jsx($r,{id:s,size:"small",checked:a,onChange:l=>n(l.target.checked?["*"]:[]),inputProps:{"aria-describedby":o,"aria-label":`Select all ${e} options`}}),label:f.jsx(G,{component:"span",sx:l=>({fontSize:l.fontSizes.smallBody}),children:"Select all"})}),f.jsx(jr,{multiple:!0,id:o,options:t,value:a?t:r,onChange:(l,i)=>{n(i)},disabled:a,renderTags:(l,i)=>l.map((u,c)=>{const{key:d,...p}=i({index:c});return z.createElement(kr,{...p,key:d,label:u,size:"small"})}),renderInput:l=>f.jsx(Ht,{...l,label:e,placeholder:a?void 0:"Select values…",variant:"outlined",size:"small",inputProps:{...l.inputProps,"aria-describedby":a?`${s}-description`:void 0}})})]})},pa=({selectedLabels:e,onChange:t,availableLabels:r})=>{const n=(s,l)=>{const i={...e};l.length===0?delete i[s]:i[s]=l,t(i)},a=(s,l)=>{const i={...e};l?i[s]=["*"]:delete i[s],t(i)},o=()=>{t({})};return!r||Object.keys(r).length===0?null:f.jsxs(G,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[f.jsxs(G,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[f.jsx(ue,{variant:"subtitle2",children:"Filter by labels"}),Object.keys(e).length>0&&f.jsx(kr,{label:"Clear all",size:"small",variant:"outlined",onClick:o})]}),f.jsx(G,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:2,flexGrow:1},children:Object.entries(r).map(([s,l])=>{const i=e[s]||[];return f.jsx(G,{sx:{display:"flex",flexDirection:"column",flexGrow:1},children:f.jsx(fa,{labelKey:s,options:l,value:i,onChange:u=>n(s,u),handleAllToggle:a})},s)})})]})},ha=(e,t)=>{if(!t||t.length===0||e<=0)return 0;let r=0;for(let n=0;n<t.length;n++){const a=t.charCodeAt(n);r=(r<<5)-r+a,r=r&r}return Math.abs(r)%e},ga=(e,t)=>{const r=$t(),n=r.palette.charts.series,a=ha(n.length,t);return z.useMemo(()=>{if(!e||e.length===0)return{labels:[],datasets:[{data:[],borderColor:r.palette.primary.main,backgroundColor:r.palette.primary.light}]};if(e.length===1){const o=e[0],s=o.data.map(([i])=>new Date(i*1e3)),l=o.data.map(([,i])=>i);return{labels:s,datasets:[{data:l,borderColor:r.palette.primary.main,backgroundColor:r.palette.primary.light,label:mr(o.metric)}]}}else{const o=new Set;if(e.forEach(u=>{u.data.forEach(([c])=>{o.add(c)})}),o.size===0)return{labels:[],datasets:[]};const s=Array.from(o).sort((u,c)=>u-c),l=s.map(u=>new Date(u*1e3)),i=e.map((u,c)=>{const d=mr(u.metric),p=n[(c+a)%n.length],h=new Map(u.data),w=s.map(S=>h.get(S)??null);return{label:d,data:w,borderColor:p,backgroundColor:p,fill:!1}});return{labels:l,datasets:i}}},[e,r])},qr=({selectedSeries:e,selectedRange:t,selectedLabels:r,beginAtZero:n,aggregationMode:a,aspectRatio:o,overrideOptions:s={},errorTitle:l="Failed to load impact metrics.",emptyDataDescription:i="Send impact metrics using Unleash SDK and select data series to view the chart.",noSeriesPlaceholder:u,isPreview:c})=>{const{data:{start:d,end:p,series:h,debug:w},loading:S,error:D}=Ir(e?{series:e,range:t,aggregationMode:a,labels:Object.keys(r).length>0?r:void 0}:void 0),g=An({fill:!0,type:"constant"}),v=ga(h,w==null?void 0:w.query),y=!!D,x=S,m=!e||x||y,O=z.useMemo(()=>!x&&(!h||h.length===0||!v.datasets.some(K=>K.data.length>1)),[v,x,h]),H=d?hr(Number.parseInt(d,10)):void 0,$=p?hr(Number.parseInt(p,10)):void 0,j=e?f.jsx(dr,{description:i}):u||f.jsx(dr,{title:"Select a metric series to view the chart.",description:""}),W=Object.keys(r).length>0,F=O?j:x,ve=m?s:{...s,scales:{x:{type:"time",min:H==null?void 0:H.getTime(),max:$==null?void 0:$.getTime(),time:{unit:gr(t),displayFormats:{[gr(t)]:la(t)},tooltipFormat:"PPpp"},ticks:{maxRotation:45,minRotation:45,maxTicksLimit:8}},y:{beginAtZero:n,title:{display:a==="rps",text:a==="rps"?"Rate per second":""},ticks:{precision:0,callback:K=>typeof K=="number"?`${ua(K)}${a==="rps"?"/s":""}`:K}}},plugins:{legend:{display:h&&(W||h.length>1),position:"bottom",labels:{usePointStyle:!0,boxWidth:8,padding:12}}},animations:{x:{duration:0},y:{duration:0}}};return f.jsxs(f.Fragment,{children:[f.jsx(G,{sx:c?{}:{height:"100%",width:"100%","& > div":{height:"100% !important",width:"100% !important"}},children:f.jsx(In,{data:O||x?g:v,aspectRatio:o,overrideOptions:ve,cover:y?f.jsx(qn,{severity:"error",children:l}):F})}),c&&(w!=null&&w.query)?f.jsx(G,{sx:K=>({margin:K.spacing(2),padding:K.spacing(2),background:K.palette.background.elevation1}),children:f.jsx(ue,{variant:"caption",color:"text.secondary",sx:{wordBreak:"break-all"},children:f.jsx("code",{children:w.query})})}):null]})},ma=re(G)(({theme:e})=>({display:"flex",flexDirection:"column",gap:e.spacing(3),[e.breakpoints.down("lg")]:{flex:"none"},[e.breakpoints.up("lg")]:{flex:"0 0 400px"}})),ya=re(G)(({theme:e})=>({flex:1,display:"flex",flexDirection:"column",gap:e.spacing(2),[e.breakpoints.down("lg")]:{minHeight:"300px"},[e.breakpoints.up("lg")]:{minHeight:"400px"}})),va=({open:e,onClose:t,onSave:r,initialConfig:n,metricSeries:a,loading:o=!1})=>{const{formData:s,actions:l,isValid:i,currentAvailableLabels:u}=da({open:e,initialConfig:n}),c=$t(),d=Wr(c.breakpoints.down("lg")),p=()=>{i&&(r(l.getConfigToSave()),t())};return f.jsxs(Bn,{open:e,onClose:t,maxWidth:"lg",fullWidth:!0,sx:{"& .MuiDialog-paper":{minHeight:"600px",maxHeight:"90vh"}},children:[f.jsx(Gn,{children:n?"Edit Chart":"Add New Chart"}),f.jsxs(Fn,{children:[f.jsxs(G,{sx:h=>({display:"flex",flexDirection:{xs:"column",lg:"row"},gap:h.spacing(3),pt:h.spacing(1),height:"100%"}),children:[f.jsxs(ma,{children:[f.jsx(Ht,{label:"Chart Title (optional)",value:s.title,onChange:h=>l.setTitle(h.target.value),fullWidth:!0,variant:"outlined",size:"small"}),f.jsx(ca,{formData:s,actions:l,metricSeries:a,loading:o})]}),f.jsx(ya,{children:f.jsx(G,{sx:h=>({padding:h.spacing(1)}),children:f.jsx(qr,{selectedSeries:s.selectedSeries,selectedRange:s.selectedRange,selectedLabels:s.selectedLabels,beginAtZero:s.beginAtZero,aggregationMode:s.aggregationMode,isPreview:!0},d?"small":"large")})})]}),u?f.jsx(pa,{selectedLabels:s.selectedLabels,onChange:l.setSelectedLabels,availableLabels:u}):null]}),f.jsx(Un,{}),f.jsxs(Yn,{sx:h=>({margin:h.spacing(2,3,3)}),children:[f.jsx(Ve,{onClick:t,children:"Cancel"}),f.jsx(Ve,{onClick:p,variant:"contained",disabled:!i,children:n?"Update":"Add Chart"})]})]})};var Wt={},ba=Vn;Object.defineProperty(Wt,"__esModule",{value:!0});var Br=Wt.default=void 0,wa=ba(Xn()),xa=f,Sa=(0,wa.default)((0,xa.jsx)("path",{d:"M20 9H4v2h16V9zM4 15h16v-2H4v2z"}),"DragHandle");Br=Wt.default=Sa;const Da=e=>{const t=[];e.displayName&&t.push(`${e.displayName}`),t.push(`last ${e.selectedRange}`),e.aggregationMode==="rps"?t.push("rate per second"):e.aggregationMode==="count"?t.push("count"):e.aggregationMode==="avg"?t.push("average"):e.aggregationMode==="sum"&&t.push("sum");const r=Object.keys(e.selectedLabels).length;return r>0&&t.push(`${r} filter${r>1?"s":""}`),t.join(" • ")},Ra=re(Nr)(({theme:e})=>({borderRadius:`${e.shape.borderRadiusMedium}px`,boxShadow:"none",display:"flex",flexDirection:"column",height:"100%"})),_a=re(G)({flex:1,display:"flex",flexDirection:"column",minHeight:0}),Oa=re(G)(({theme:e})=>({position:"relative",minWidth:0,flexGrow:1,height:"100%",display:"flex",flexDirection:"column",margin:"auto 0",padding:e.spacing(3)})),Pa=re(G)(({theme:e})=>({display:"flex",gap:e.spacing(2),alignItems:"center",padding:e.spacing(1.5,2),borderBottom:`1px solid ${e.palette.divider}`})),Ea=re(G)(({theme:e})=>({display:"flex",alignItems:"center",cursor:"move",padding:e.spacing(.5),borderRadius:e.shape.borderRadius,color:e.palette.text.secondary,"&:hover":{backgroundColor:e.palette.action.hover,color:e.palette.text.primary}})),Ca=re(G)(({theme:e})=>({display:"flex",flexDirection:"column",justifyContent:"flex-end",flexGrow:1,overflow:"hidden",textOverflow:"ellipsis"})),za=re(G)(({theme:e})=>({marginLeft:"auto",display:"flex",alignItems:"center",gap:e.spacing(.5)})),ja=({config:e,onEdit:t,onDelete:r})=>f.jsxs(Ra,{children:[f.jsxs(Pa,{children:[f.jsx(Ea,{className:"grid-item-drag-handle",children:f.jsx(Br,{fontSize:"small"})}),f.jsxs(Ca,{children:[e.title&&f.jsx(ue,{variant:"h6",children:e.title}),f.jsx(ue,{variant:"body2",color:"text.secondary",children:Da(e)})]}),f.jsxs(za,{children:[f.jsx(fr,{onClick:()=>t(e),children:f.jsx(Kn,{})}),f.jsx(fr,{onClick:()=>r(e.id),children:f.jsx(Zn,{})})]})]}),f.jsx(_a,{children:f.jsx(Oa,{children:f.jsx(qr,{selectedSeries:e.selectedSeries,selectedRange:e.selectedRange,selectedLabels:e.selectedLabels,beginAtZero:e.beginAtZero,aggregationMode:e.aggregationMode,aspectRatio:1.5,overrideOptions:{maintainAspectRatio:!1},emptyDataDescription:"Send impact metrics using Unleash SDK for this series to view the chart."})})})]});var Gr={exports:{}},Ae={},St={exports:{}};(function(e,t){(function(r,n){n(t)})(Jn,function(r){function n(b){return function(k,T,L,I,U,ne,q){return b(k,T,q)}}function a(b){return function(k,T,L,I){if(!k||!T||typeof k!="object"||typeof T!="object")return b(k,T,L,I);var U=I.get(k),ne=I.get(T);if(U&&ne)return U===T&&ne===k;I.set(k,T),I.set(T,k);var q=b(k,T,L,I);return I.delete(k),I.delete(T),q}}function o(b,_){var k={};for(var T in b)k[T]=b[T];for(var T in _)k[T]=_[T];return k}function s(b){return b.constructor===Object||b.constructor==null}function l(b){return typeof b.then=="function"}function i(b,_){return b===_||b!==b&&_!==_}var u="[object Arguments]",c="[object Boolean]",d="[object Date]",p="[object RegExp]",h="[object Map]",w="[object Number]",S="[object Object]",D="[object Set]",g="[object String]",v=Object.prototype.toString;function y(b){var _=b.areArraysEqual,k=b.areDatesEqual,T=b.areMapsEqual,L=b.areObjectsEqual,I=b.areRegExpsEqual,U=b.areSetsEqual,ne=b.createIsNestedEqual,q=ne(oe);function oe(N,B,se){if(N===B)return!0;if(!N||!B||typeof N!="object"||typeof B!="object")return N!==N&&B!==B;if(s(N)&&s(B))return L(N,B,q,se);var lr=Array.isArray(N),ur=Array.isArray(B);if(lr||ur)return lr===ur&&_(N,B,q,se);var ie=v.call(N);return ie!==v.call(B)?!1:ie===d?k(N,B,q,se):ie===p?I(N,B,q,se):ie===h?T(N,B,q,se):ie===D?U(N,B,q,se):ie===S||ie===u?l(N)||l(B)?!1:L(N,B,q,se):ie===c||ie===w||ie===g?i(N.valueOf(),B.valueOf()):!1}return oe}function x(b,_,k,T){var L=b.length;if(_.length!==L)return!1;for(;L-- >0;)if(!k(b[L],_[L],L,L,b,_,T))return!1;return!0}var m=a(x);function O(b,_){return i(b.valueOf(),_.valueOf())}function H(b,_,k,T){var L=b.size===_.size;if(!L)return!1;if(!b.size)return!0;var I={},U=0;return b.forEach(function(ne,q){if(L){var oe=!1,N=0;_.forEach(function(B,se){!oe&&!I[N]&&(oe=k(q,se,U,N,b,_,T)&&k(ne,B,q,se,b,_,T))&&(I[N]=!0),N++}),U++,L=oe}}),L}var $=a(H),j="_owner",W=Object.prototype.hasOwnProperty;function F(b,_,k,T){var L=Object.keys(b),I=L.length;if(Object.keys(_).length!==I)return!1;for(var U;I-- >0;){if(U=L[I],U===j){var ne=!!b.$$typeof,q=!!_.$$typeof;if((ne||q)&&ne!==q)return!1}if(!W.call(_,U)||!k(b[U],_[U],U,U,b,_,T))return!1}return!0}var ve=a(F);function K(b,_){return b.source===_.source&&b.flags===_.flags}function He(b,_,k,T){var L=b.size===_.size;if(!L)return!1;if(!b.size)return!0;var I={};return b.forEach(function(U,ne){if(L){var q=!1,oe=0;_.forEach(function(N,B){!q&&!I[oe]&&(q=k(U,N,ne,B,b,_,T))&&(I[oe]=!0),oe++}),L=q}}),L}var ir=a(He),be=Object.freeze({areArraysEqual:x,areDatesEqual:O,areMapsEqual:H,areObjectsEqual:F,areRegExpsEqual:K,areSetsEqual:He,createIsNestedEqual:n}),we=Object.freeze({areArraysEqual:m,areDatesEqual:O,areMapsEqual:$,areObjectsEqual:ve,areRegExpsEqual:K,areSetsEqual:ir,createIsNestedEqual:n}),Be=y(be);function pt(b,_){return Be(b,_,void 0)}var Cn=y(o(be,{createIsNestedEqual:function(){return i}}));function zn(b,_){return Cn(b,_,void 0)}var jn=y(we);function Mn(b,_){return jn(b,_,new WeakMap)}var Tn=y(o(we,{createIsNestedEqual:function(){return i}}));function Ln(b,_){return Tn(b,_,new WeakMap)}function Hn(b){return y(o(be,b(be)))}function $n(b){var _=y(o(we,b(we)));return function(k,T,L){return L===void 0&&(L=new WeakMap),_(k,T,L)}}r.circularDeepEqual=Mn,r.circularShallowEqual=Ln,r.createCustomCircularEqual=$n,r.createCustomEqual=Hn,r.deepEqual=pt,r.sameValueZeroEqual=i,r.shallowEqual=zn,Object.defineProperty(r,"__esModule",{value:!0})})})(St,St.exports);var Nt=St.exports;const et=Ar(Qn);var C={},Ma=function(t,r,n){return t===r?!0:t.className===r.className&&n(t.style,r.style)&&t.width===r.width&&t.autoSize===r.autoSize&&t.cols===r.cols&&t.draggableCancel===r.draggableCancel&&t.draggableHandle===r.draggableHandle&&n(t.verticalCompact,r.verticalCompact)&&n(t.compactType,r.compactType)&&n(t.layout,r.layout)&&n(t.margin,r.margin)&&n(t.containerPadding,r.containerPadding)&&t.rowHeight===r.rowHeight&&t.maxRows===r.maxRows&&t.isBounded===r.isBounded&&t.isDraggable===r.isDraggable&&t.isResizable===r.isResizable&&t.allowOverlap===r.allowOverlap&&t.preventCollision===r.preventCollision&&t.useCSSTransforms===r.useCSSTransforms&&t.transformScale===r.transformScale&&t.isDroppable===r.isDroppable&&n(t.resizeHandles,r.resizeHandles)&&n(t.resizeHandle,r.resizeHandle)&&t.onLayoutChange===r.onLayoutChange&&t.onDragStart===r.onDragStart&&t.onDrag===r.onDrag&&t.onDragStop===r.onDragStop&&t.onResizeStart===r.onResizeStart&&t.onResize===r.onResize&&t.onResizeStop===r.onResizeStop&&t.onDrop===r.onDrop&&n(t.droppingItem,r.droppingItem)&&n(t.innerRef,r.innerRef)};Object.defineProperty(C,"__esModule",{value:!0});C.bottom=At;C.childrenEqual=Ha;C.cloneLayout=Fr;C.cloneLayoutItem=_e;C.collides=tt;C.compact=Yr;C.compactItem=Xr;C.compactType=Va;C.correctBounds=Vr;C.fastPositionEqual=$a;C.fastRGLPropsEqual=void 0;C.getAllCollisions=Kr;C.getFirstCollision=De;C.getLayoutItem=It;C.getStatics=qt;C.modifyLayout=Ur;C.moveElement=Ne;C.moveElementAwayFromCollision=Rt;C.noop=void 0;C.perc=Wa;C.resizeItemInDirection=Ga;C.setTopLeft=Ua;C.setTransform=Fa;C.sortLayoutItems=Xt;C.sortLayoutItemsByColRow=tn;C.sortLayoutItemsByRowCol=en;C.synchronizeLayoutWithChildren=Ya;C.validateLayout=Xa;C.withLayoutItem=La;var yr=Nt,We=Ta(z);function Ta(e){return e&&e.__esModule?e:{default:e}}function At(e){let t=0,r;for(let n=0,a=e.length;n<a;n++)r=e[n].y+e[n].h,r>t&&(t=r);return t}function Fr(e){const t=Array(e.length);for(let r=0,n=e.length;r<n;r++)t[r]=_e(e[r]);return t}function Ur(e,t){const r=Array(e.length);for(let n=0,a=e.length;n<a;n++)t.i===e[n].i?r[n]=t:r[n]=e[n];return r}function La(e,t,r){let n=It(e,t);return n?(n=r(_e(n)),e=Ur(e,n),[e,n]):[e,null]}function _e(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:!!e.moved,static:!!e.static,isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}function Ha(e,t){return(0,yr.deepEqual)(We.default.Children.map(e,r=>r==null?void 0:r.key),We.default.Children.map(t,r=>r==null?void 0:r.key))&&(0,yr.deepEqual)(We.default.Children.map(e,r=>r==null?void 0:r.props["data-grid"]),We.default.Children.map(t,r=>r==null?void 0:r.props["data-grid"]))}C.fastRGLPropsEqual=Ma;function $a(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height}function tt(e,t){return!(e.i===t.i||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function Yr(e,t,r,n){const a=qt(e),o=Xt(e,t),s=Array(e.length);for(let l=0,i=o.length;l<i;l++){let u=_e(o[l]);u.static||(u=Xr(a,u,t,r,o,n),a.push(u)),s[e.indexOf(o[l])]=u,u.moved=!1}return s}const ka={x:"w",y:"h"};function Dt(e,t,r,n){const a=ka[n];t[n]+=1;const o=e.map(s=>s.i).indexOf(t.i);for(let s=o+1;s<e.length;s++){const l=e[s];if(!l.static){if(l.y>t.y+t.h)break;tt(t,l)&&Dt(e,l,r+t[a],n)}}t[n]=r}function Xr(e,t,r,n,a,o){const s=r==="vertical",l=r==="horizontal";if(s)for(t.y=Math.min(At(e),t.y);t.y>0&&!De(e,t);)t.y--;else if(l)for(;t.x>0&&!De(e,t);)t.x--;let i;for(;(i=De(e,t))&&!(r===null&&o);)if(l?Dt(a,t,i.x+i.w,"x"):Dt(a,t,i.y+i.h,"y"),l&&t.x+t.w>n)for(t.x=n-t.w,t.y++;t.x>0&&!De(e,t);)t.x--;return t.y=Math.max(t.y,0),t.x=Math.max(t.x,0),t}function Vr(e,t){const r=qt(e);for(let n=0,a=e.length;n<a;n++){const o=e[n];if(o.x+o.w>t.cols&&(o.x=t.cols-o.w),o.x<0&&(o.x=0,o.w=t.cols),!o.static)r.push(o);else for(;De(r,o);)o.y++}return e}function It(e,t){for(let r=0,n=e.length;r<n;r++)if(e[r].i===t)return e[r]}function De(e,t){for(let r=0,n=e.length;r<n;r++)if(tt(e[r],t))return e[r]}function Kr(e,t){return e.filter(r=>tt(r,t))}function qt(e){return e.filter(t=>t.static)}function Ne(e,t,r,n,a,o,s,l,i){if(t.static&&t.isDraggable!==!0||t.y===n&&t.x===r)return e;`${t.i}${String(r)}${String(n)}${t.x}${t.y}`;const u=t.x,c=t.y;typeof r=="number"&&(t.x=r),typeof n=="number"&&(t.y=n),t.moved=!0;let d=Xt(e,s);(s==="vertical"&&typeof n=="number"?c>=n:s==="horizontal"&&typeof r=="number"?u>=r:!1)&&(d=d.reverse());const h=Kr(d,t),w=h.length>0;if(w&&i)return Fr(e);if(w&&o)return`${t.i}`,t.x=u,t.y=c,t.moved=!1,e;for(let S=0,D=h.length;S<D;S++){const g=h[S];`${t.i}${t.x}${t.y}${g.i}${g.x}${g.y}`,!g.moved&&(g.static?e=Rt(e,g,t,a,s):e=Rt(e,t,g,a,s))}return e}function Rt(e,t,r,n,a,o){const s=a==="horizontal",l=a==="vertical",i=t.static;if(n){n=!1;const d={x:s?Math.max(t.x-r.w,0):r.x,y:l?Math.max(t.y-r.h,0):r.y,w:r.w,h:r.h,i:"-1"},p=De(e,d),h=p&&p.y+p.h>t.y,w=p&&t.x+t.w>p.x;if(p){if(h&&l)return Ne(e,r,void 0,t.y+1,n,i,a);if(h&&a==null)return t.y=r.y,r.y=r.y+r.h,e;if(w&&s)return Ne(e,t,r.x,void 0,n,i,a)}else return`${r.i}${d.x}${d.y}`,Ne(e,r,s?d.x:void 0,l?d.y:void 0,n,i,a)}const u=s?r.x+1:void 0,c=l?r.y+1:void 0;return u==null&&c==null?e:Ne(e,r,s?r.x+1:void 0,l?r.y+1:void 0,n,i,a)}function Wa(e){return e*100+"%"}const Zr=(e,t,r,n)=>e+r>n?t:r,Jr=(e,t,r)=>e<0?t:r,Qr=e=>Math.max(0,e),Bt=e=>Math.max(0,e),Gt=(e,t,r)=>{let{left:n,height:a,width:o}=t;const s=e.top-(a-e.height);return{left:n,width:o,height:Jr(s,e.height,a),top:Bt(s)}},Ft=(e,t,r)=>{let{top:n,left:a,height:o,width:s}=t;return{top:n,height:o,width:Zr(e.left,e.width,s,r),left:Qr(a)}},Ut=(e,t,r)=>{let{top:n,height:a,width:o}=t;const s=e.left-(o-e.width);return{height:a,width:s<0?e.width:Zr(e.left,e.width,o,r),top:Bt(n),left:Qr(s)}},Yt=(e,t,r)=>{let{top:n,left:a,height:o,width:s}=t;return{width:s,left:a,height:Jr(n,e.height,o),top:Bt(n)}},Na=function(){return Gt(arguments.length<=0?void 0:arguments[0],Ft(...arguments))},Aa=function(){return Gt(arguments.length<=0?void 0:arguments[0],Ut(...arguments))},Ia=function(){return Yt(arguments.length<=0?void 0:arguments[0],Ft(...arguments))},qa=function(){return Yt(arguments.length<=0?void 0:arguments[0],Ut(...arguments))},Ba={n:Gt,ne:Na,e:Ft,se:Ia,s:Yt,sw:qa,w:Ut,nw:Aa};function Ga(e,t,r,n){const a=Ba[e];return a?a(t,{...t,...r},n):r}function Fa(e){let{top:t,left:r,width:n,height:a}=e;const o=`translate(${r}px,${t}px)`;return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:`${n}px`,height:`${a}px`,position:"absolute"}}function Ua(e){let{top:t,left:r,width:n,height:a}=e;return{top:`${t}px`,left:`${r}px`,width:`${n}px`,height:`${a}px`,position:"absolute"}}function Xt(e,t){return t==="horizontal"?tn(e):t==="vertical"?en(e):e}function en(e){return e.slice(0).sort(function(t,r){return t.y>r.y||t.y===r.y&&t.x>r.x?1:t.y===r.y&&t.x===r.x?0:-1})}function tn(e){return e.slice(0).sort(function(t,r){return t.x>r.x||t.x===r.x&&t.y>r.y?1:-1})}function Ya(e,t,r,n,a){e=e||[];const o=[];We.default.Children.forEach(t,l=>{if((l==null?void 0:l.key)==null)return;const i=It(e,String(l.key)),u=l.props["data-grid"];i&&u==null?o.push(_e(i)):u?o.push(_e({...u,i:l.key})):o.push(_e({w:1,h:1,x:0,y:At(o),i:String(l.key)}))});const s=Vr(o,{cols:r});return a?s:Yr(s,n,r)}function Xa(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const r=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(let n=0,a=e.length;n<a;n++){const o=e[n];for(let s=0;s<r.length;s++){const l=r[s],i=o[l];if(typeof i!="number"||Number.isNaN(i))throw new Error(`ReactGridLayout: ${t}[${n}].${l} must be a number! Received: ${i} (${typeof i})`)}if(typeof o.i<"u"&&typeof o.i!="string")throw new Error(`ReactGridLayout: ${t}[${n}].i must be a string! Received: ${o.i} (${typeof o.i})`)}}function Va(e){const{verticalCompact:t,compactType:r}=e||{};return t===!1?null:r}const Ka=()=>{};C.noop=Ka;var ce={};Object.defineProperty(ce,"__esModule",{value:!0});ce.calcGridColWidth=rt;ce.calcGridItemPosition=Za;ce.calcGridItemWHPx=_t;ce.calcWH=Qa;ce.calcXY=Ja;ce.clamp=Re;function rt(e){const{margin:t,containerPadding:r,containerWidth:n,cols:a}=e;return(n-t[0]*(a-1)-r[0]*2)/a}function _t(e,t,r){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*r):e}function Za(e,t,r,n,a,o){const{margin:s,containerPadding:l,rowHeight:i}=e,u=rt(e),c={};return o&&o.resizing?(c.width=Math.round(o.resizing.width),c.height=Math.round(o.resizing.height)):(c.width=_t(n,u,s[0]),c.height=_t(a,i,s[1])),o&&o.dragging?(c.top=Math.round(o.dragging.top),c.left=Math.round(o.dragging.left)):o&&o.resizing&&typeof o.resizing.top=="number"&&typeof o.resizing.left=="number"?(c.top=Math.round(o.resizing.top),c.left=Math.round(o.resizing.left)):(c.top=Math.round((i+s[1])*r+l[1]),c.left=Math.round((u+s[0])*t+l[0])),c}function Ja(e,t,r,n,a){const{margin:o,containerPadding:s,cols:l,rowHeight:i,maxRows:u}=e,c=rt(e);let d=Math.round((r-s[0])/(c+o[0])),p=Math.round((t-s[1])/(i+o[1]));return d=Re(d,0,l-n),p=Re(p,0,u-a),{x:d,y:p}}function Qa(e,t,r,n,a,o){const{margin:s,maxRows:l,cols:i,rowHeight:u}=e,c=rt(e);let d=Math.round((t+s[0])/(c+s[0])),p=Math.round((r+s[1])/(u+s[1])),h=Re(d,0,i-n),w=Re(p,0,l-a);return["sw","w","nw"].indexOf(o)!==-1&&(h=Re(d,0,i)),["nw","n","ne"].indexOf(o)!==-1&&(w=Re(p,0,l)),{w:h,h:w}}function Re(e,t,r){return Math.max(Math.min(e,r),t)}var nt={},at={exports:{}},rn={},A={},de={};Object.defineProperty(de,"__esModule",{value:!0});de.dontSetMe=ao;de.findInArray=eo;de.int=no;de.isFunction=to;de.isNum=ro;function eo(e,t){for(let r=0,n=e.length;r<n;r++)if(t.apply(t,[e[r],r,e]))return e[r]}function to(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function ro(e){return typeof e=="number"&&!isNaN(e)}function no(e){return parseInt(e,10)}function ao(e,t,r){if(e[t])return new Error(`Invalid prop ${t} passed to ${r} - do not set this, set it on the child.`)}var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.browserPrefixToKey=an;Oe.browserPrefixToStyle=oo;Oe.default=void 0;Oe.getPrefix=nn;const gt=["Moz","Webkit","O","ms"];function nn(){var r,n;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const t=(n=(r=window.document)==null?void 0:r.documentElement)==null?void 0:n.style;if(!t||e in t)return"";for(let a=0;a<gt.length;a++)if(an(e,gt[a])in t)return gt[a];return""}function an(e,t){return t?`${t}${so(e)}`:e}function oo(e,t){return t?`-${t.toLowerCase()}-${e}`:e}function so(e){let t="",r=!0;for(let n=0;n<e.length;n++)r?(t+=e[n].toUpperCase(),r=!1):e[n]==="-"?r=!0:t+=e[n];return t}Oe.default=nn();Object.defineProperty(A,"__esModule",{value:!0});A.addClassName=ln;A.addEvent=lo;A.addUserSelectStyles=wo;A.createCSSTransform=mo;A.createSVGTransform=yo;A.getTouch=vo;A.getTouchIdentifier=bo;A.getTranslation=Vt;A.innerHeight=po;A.innerWidth=ho;A.matchesSelector=sn;A.matchesSelectorAndParentsTo=io;A.offsetXYFromParent=go;A.outerHeight=co;A.outerWidth=fo;A.removeClassName=un;A.removeEvent=uo;A.scheduleRemoveUserSelectStyles=xo;var te=de,vr=on(Oe);function on(e,t){if(typeof WeakMap=="function")var r=new WeakMap,n=new WeakMap;return(on=function(a,o){if(!o&&a&&a.__esModule)return a;var s,l,i={__proto__:null,default:a};if(a===null||typeof a!="object"&&typeof a!="function")return i;if(s=o?n:r){if(s.has(a))return s.get(a);s.set(a,i)}for(const u in a)u!=="default"&&{}.hasOwnProperty.call(a,u)&&((l=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(a,u))&&(l.get||l.set)?s(i,u,l):i[u]=a[u]);return i})(e,t)}let Ge="";function sn(e,t){return Ge||(Ge=(0,te.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,te.isFunction)(e[r])})),(0,te.isFunction)(e[Ge])?e[Ge](t):!1}function io(e,t,r){let n=e;do{if(sn(n,t))return!0;if(n===r)return!1;n=n.parentNode}while(n);return!1}function lo(e,t,r,n){if(!e)return;const a={capture:!0,...n};e.addEventListener?e.addEventListener(t,r,a):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r}function uo(e,t,r,n){if(!e)return;const a={capture:!0,...n};e.removeEventListener?e.removeEventListener(t,r,a):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null}function co(e){let t=e.clientHeight;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,te.int)(r.borderTopWidth),t+=(0,te.int)(r.borderBottomWidth),t}function fo(e){let t=e.clientWidth;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,te.int)(r.borderLeftWidth),t+=(0,te.int)(r.borderRightWidth),t}function po(e){let t=e.clientHeight;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,te.int)(r.paddingTop),t-=(0,te.int)(r.paddingBottom),t}function ho(e){let t=e.clientWidth;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,te.int)(r.paddingLeft),t-=(0,te.int)(r.paddingRight),t}function go(e,t,r){const a=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-a.left)/r,s=(e.clientY+t.scrollTop-a.top)/r;return{x:o,y:s}}function mo(e,t){const r=Vt(e,t,"px");return{[(0,vr.browserPrefixToKey)("transform",vr.default)]:r}}function yo(e,t){return Vt(e,t,"")}function Vt(e,t,r){let{x:n,y:a}=e,o=`translate(${n}${r},${a}${r})`;if(t){const s=`${typeof t.x=="string"?t.x:t.x+r}`,l=`${typeof t.y=="string"?t.y:t.y+r}`;o=`translate(${s}, ${l})`+o}return o}function vo(e,t){return e.targetTouches&&(0,te.findInArray)(e.targetTouches,r=>t===r.identifier)||e.changedTouches&&(0,te.findInArray)(e.changedTouches,r=>t===r.identifier)}function bo(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function wo(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&ln(e.body,"react-draggable-transparent-selection")}function xo(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{br(e)}):br(e)}function br(e){if(e)try{if(e.body&&un(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function ln(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function un(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}var fe={};Object.defineProperty(fe,"__esModule",{value:!0});fe.canDragX=Ro;fe.canDragY=_o;fe.createCoreData=Po;fe.createDraggableData=Eo;fe.getBoundPosition=So;fe.getControlPosition=Oo;fe.snapToGrid=Do;var ee=de,je=A;function So(e,t,r){if(!e.props.bounds)return[t,r];let{bounds:n}=e.props;n=typeof n=="string"?n:Co(n);const a=Kt(e);if(typeof n=="string"){const{ownerDocument:o}=a,s=o.defaultView;let l;if(n==="parent"?l=a.parentNode:l=a.getRootNode().querySelector(n),!(l instanceof s.HTMLElement))throw new Error('Bounds selector "'+n+'" could not find an element.');const i=l,u=s.getComputedStyle(a),c=s.getComputedStyle(i);n={left:-a.offsetLeft+(0,ee.int)(c.paddingLeft)+(0,ee.int)(u.marginLeft),top:-a.offsetTop+(0,ee.int)(c.paddingTop)+(0,ee.int)(u.marginTop),right:(0,je.innerWidth)(i)-(0,je.outerWidth)(a)-a.offsetLeft+(0,ee.int)(c.paddingRight)-(0,ee.int)(u.marginRight),bottom:(0,je.innerHeight)(i)-(0,je.outerHeight)(a)-a.offsetTop+(0,ee.int)(c.paddingBottom)-(0,ee.int)(u.marginBottom)}}return(0,ee.isNum)(n.right)&&(t=Math.min(t,n.right)),(0,ee.isNum)(n.bottom)&&(r=Math.min(r,n.bottom)),(0,ee.isNum)(n.left)&&(t=Math.max(t,n.left)),(0,ee.isNum)(n.top)&&(r=Math.max(r,n.top)),[t,r]}function Do(e,t,r){const n=Math.round(t/e[0])*e[0],a=Math.round(r/e[1])*e[1];return[n,a]}function Ro(e){return e.props.axis==="both"||e.props.axis==="x"}function _o(e){return e.props.axis==="both"||e.props.axis==="y"}function Oo(e,t,r){const n=typeof t=="number"?(0,je.getTouch)(e,t):null;if(typeof t=="number"&&!n)return null;const a=Kt(r),o=r.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,je.offsetXYFromParent)(n||e,o,r.props.scale)}function Po(e,t,r){const n=!(0,ee.isNum)(e.lastX),a=Kt(e);return n?{node:a,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:a,deltaX:t-e.lastX,deltaY:r-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:r}}function Eo(e,t){const r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}}function Co(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function Kt(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var ot={},st={};Object.defineProperty(st,"__esModule",{value:!0});st.default=zo;function zo(){}Object.defineProperty(ot,"__esModule",{value:!0});ot.default=void 0;var mt=cn(z),Z=Zt(ye),jo=Zt(kt),X=A,he=fe,yt=de,$e=Zt(st);function Zt(e){return e&&e.__esModule?e:{default:e}}function cn(e,t){if(typeof WeakMap=="function")var r=new WeakMap,n=new WeakMap;return(cn=function(a,o){if(!o&&a&&a.__esModule)return a;var s,l,i={__proto__:null,default:a};if(a===null||typeof a!="object"&&typeof a!="function")return i;if(s=o?n:r){if(s.has(a))return s.get(a);s.set(a,i)}for(const u in a)u!=="default"&&{}.hasOwnProperty.call(a,u)&&((l=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(a,u))&&(l.get||l.set)?s(i,u,l):i[u]=a[u]);return i})(e,t)}function J(e,t,r){return(t=Mo(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mo(e){var t=To(e,"string");return typeof t=="symbol"?t:t+""}function To(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const ae={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let ge=ae.mouse,it=class extends mt.Component{constructor(){super(...arguments),J(this,"dragging",!1),J(this,"lastX",NaN),J(this,"lastY",NaN),J(this,"touchIdentifier",null),J(this,"mounted",!1),J(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const r=this.findDOMNode();if(!r||!r.ownerDocument||!r.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=r;if(this.props.disabled||!(t.target instanceof n.defaultView.Node)||this.props.handle&&!(0,X.matchesSelectorAndParentsTo)(t.target,this.props.handle,r)||this.props.cancel&&(0,X.matchesSelectorAndParentsTo)(t.target,this.props.cancel,r))return;t.type==="touchstart"&&!this.props.allowMobileScroll&&t.preventDefault();const a=(0,X.getTouchIdentifier)(t);this.touchIdentifier=a;const o=(0,he.getControlPosition)(t,a,this);if(o==null)return;const{x:s,y:l}=o,i=(0,he.createCoreData)(this,s,l);(0,$e.default)("DraggableCore: handleDragStart: %j",i),(0,$e.default)("calling",this.props.onStart),!(this.props.onStart(t,i)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,X.addUserSelectStyles)(n),this.dragging=!0,this.lastX=s,this.lastY=l,(0,X.addEvent)(n,ge.move,this.handleDrag),(0,X.addEvent)(n,ge.stop,this.handleDragStop))}),J(this,"handleDrag",t=>{const r=(0,he.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:n,y:a}=r;if(Array.isArray(this.props.grid)){let l=n-this.lastX,i=a-this.lastY;if([l,i]=(0,he.snapToGrid)(this.props.grid,l,i),!l&&!i)return;n=this.lastX+l,a=this.lastY+i}const o=(0,he.createCoreData)(this,n,a);if((0,$e.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(t,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const i=document.createEvent("MouseEvents");i.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(i)}return}this.lastX=n,this.lastY=a}),J(this,"handleDragStop",t=>{if(!this.dragging)return;const r=(0,he.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:n,y:a}=r;if(Array.isArray(this.props.grid)){let i=n-this.lastX||0,u=a-this.lastY||0;[i,u]=(0,he.snapToGrid)(this.props.grid,i,u),n=this.lastX+i,a=this.lastY+u}const o=(0,he.createCoreData)(this,n,a);if(this.props.onStop(t,o)===!1||this.mounted===!1)return!1;const l=this.findDOMNode();l&&this.props.enableUserSelectHack&&(0,X.scheduleRemoveUserSelectStyles)(l.ownerDocument),(0,$e.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,l&&((0,$e.default)("DraggableCore: Removing handlers"),(0,X.removeEvent)(l.ownerDocument,ge.move,this.handleDrag),(0,X.removeEvent)(l.ownerDocument,ge.stop,this.handleDragStop))}),J(this,"onMouseDown",t=>(ge=ae.mouse,this.handleDragStart(t))),J(this,"onMouseUp",t=>(ge=ae.mouse,this.handleDragStop(t))),J(this,"onTouchStart",t=>(ge=ae.touch,this.handleDragStart(t))),J(this,"onTouchEnd",t=>(ge=ae.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,X.addEvent)(t,ae.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:r}=t;(0,X.removeEvent)(r,ae.mouse.move,this.handleDrag),(0,X.removeEvent)(r,ae.touch.move,this.handleDrag),(0,X.removeEvent)(r,ae.mouse.stop,this.handleDragStop),(0,X.removeEvent)(r,ae.touch.stop,this.handleDragStop),(0,X.removeEvent)(t,ae.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,X.scheduleRemoveUserSelectStyles)(r)}}findDOMNode(){var t,r,n;return(t=this.props)!=null&&t.nodeRef?(n=(r=this.props)==null?void 0:r.nodeRef)==null?void 0:n.current:jo.default.findDOMNode(this)}render(){return mt.cloneElement(mt.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};ot.default=it;J(it,"displayName","DraggableCore");J(it,"propTypes",{allowAnyClick:Z.default.bool,allowMobileScroll:Z.default.bool,children:Z.default.node.isRequired,disabled:Z.default.bool,enableUserSelectHack:Z.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Z.default.arrayOf(Z.default.number),handle:Z.default.string,cancel:Z.default.string,nodeRef:Z.default.object,onStart:Z.default.func,onDrag:Z.default.func,onStop:Z.default.func,onMouseDown:Z.default.func,scale:Z.default.number,className:yt.dontSetMe,style:yt.dontSetMe,transform:yt.dontSetMe});J(it,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return i.default}}),e.default=void 0;var t=d(z),r=c(ye),n=c(kt),a=et,o=A,s=fe,l=de,i=c(ot),u=c(st);function c(g){return g&&g.__esModule?g:{default:g}}function d(g,v){if(typeof WeakMap=="function")var y=new WeakMap,x=new WeakMap;return(d=function(m,O){if(!O&&m&&m.__esModule)return m;var H,$,j={__proto__:null,default:m};if(m===null||typeof m!="object"&&typeof m!="function")return j;if(H=O?x:y){if(H.has(m))return H.get(m);H.set(m,j)}for(const W in m)W!=="default"&&{}.hasOwnProperty.call(m,W)&&(($=(H=Object.defineProperty)&&Object.getOwnPropertyDescriptor(m,W))&&($.get||$.set)?H(j,W,$):j[W]=m[W]);return j})(g,v)}function p(){return p=Object.assign?Object.assign.bind():function(g){for(var v=1;v<arguments.length;v++){var y=arguments[v];for(var x in y)({}).hasOwnProperty.call(y,x)&&(g[x]=y[x])}return g},p.apply(null,arguments)}function h(g,v,y){return(v=w(v))in g?Object.defineProperty(g,v,{value:y,enumerable:!0,configurable:!0,writable:!0}):g[v]=y,g}function w(g){var v=S(g,"string");return typeof v=="symbol"?v:v+""}function S(g,v){if(typeof g!="object"||!g)return g;var y=g[Symbol.toPrimitive];if(y!==void 0){var x=y.call(g,v||"default");if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(g)}class D extends t.Component{static getDerivedStateFromProps(v,y){let{position:x}=v,{prevPropsPosition:m}=y;return x&&(!m||x.x!==m.x||x.y!==m.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:x,prevPropsPosition:m}),{x:x.x,y:x.y,prevPropsPosition:{...x}}):null}constructor(v){super(v),h(this,"onDragStart",(y,x)=>{if((0,u.default)("Draggable: onDragStart: %j",x),this.props.onStart(y,(0,s.createDraggableData)(this,x))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),h(this,"onDrag",(y,x)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",x);const m=(0,s.createDraggableData)(this,x),O={x:m.x,y:m.y,slackX:0,slackY:0};if(this.props.bounds){const{x:$,y:j}=O;O.x+=this.state.slackX,O.y+=this.state.slackY;const[W,F]=(0,s.getBoundPosition)(this,O.x,O.y);O.x=W,O.y=F,O.slackX=this.state.slackX+($-O.x),O.slackY=this.state.slackY+(j-O.y),m.x=O.x,m.y=O.y,m.deltaX=O.x-this.state.x,m.deltaY=O.y-this.state.y}if(this.props.onDrag(y,m)===!1)return!1;this.setState(O)}),h(this,"onDragStop",(y,x)=>{if(!this.state.dragging||this.props.onStop(y,(0,s.createDraggableData)(this,x))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",x);const O={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:$,y:j}=this.props.position;O.x=$,O.y=j}this.setState(O)}),this.state={dragging:!1,dragged:!1,x:v.position?v.position.x:v.defaultPosition.x,y:v.position?v.position.y:v.defaultPosition.y,prevPropsPosition:{...v.position},slackX:0,slackY:0,isElementSVG:!1},v.position&&!(v.onDrag||v.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var v,y;return((y=(v=this.props)==null?void 0:v.nodeRef)==null?void 0:y.current)??n.default.findDOMNode(this)}render(){const{axis:v,bounds:y,children:x,defaultPosition:m,defaultClassName:O,defaultClassNameDragging:H,defaultClassNameDragged:$,position:j,positionOffset:W,scale:F,...ve}=this.props;let K={},He=null;const be=!!!j||this.state.dragging,we=j||m,Be={x:(0,s.canDragX)(this)&&be?this.state.x:we.x,y:(0,s.canDragY)(this)&&be?this.state.y:we.y};this.state.isElementSVG?He=(0,o.createSVGTransform)(Be,W):K=(0,o.createCSSTransform)(Be,W);const pt=(0,a.clsx)(x.props.className||"",O,{[H]:this.state.dragging,[$]:this.state.dragged});return t.createElement(i.default,p({},ve,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(x),{className:pt,style:{...x.props.style,...K},transform:He}))}}e.default=D,h(D,"displayName","Draggable"),h(D,"propTypes",{...i.default.propTypes,axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),h(D,"defaultProps",{...i.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(rn);const{default:dn,DraggableCore:Lo}=rn;at.exports=dn;at.exports.default=dn;at.exports.DraggableCore=Lo;var fn=at.exports,lt={exports:{}},Ie={},Jt={};Jt.__esModule=!0;Jt.cloneElement=Ao;var Ho=$o(z);function $o(e){return e&&e.__esModule?e:{default:e}}function wr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wr(Object(r),!0).forEach(function(n){ko(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ko(e,t,r){return t=Wo(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wo(e){var t=No(e,"string");return typeof t=="symbol"?t:String(t)}function No(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ao(e,t){return t.style&&e.props.style&&(t.style=xr(xr({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),Ho.default.cloneElement(e,t)}var qe={};qe.__esModule=!0;qe.resizableProps=void 0;var P=Io(ye);function Io(e){return e&&e.__esModule?e:{default:e}}var qo={axis:P.default.oneOf(["both","x","y","none"]),className:P.default.string,children:P.default.element.isRequired,draggableOpts:P.default.shape({allowAnyClick:P.default.bool,cancel:P.default.string,children:P.default.node,disabled:P.default.bool,enableUserSelectHack:P.default.bool,offsetParent:P.default.node,grid:P.default.arrayOf(P.default.number),handle:P.default.string,nodeRef:P.default.object,onStart:P.default.func,onDrag:P.default.func,onStop:P.default.func,onMouseDown:P.default.func,scale:P.default.number}),height:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(a.axis==="both"||a.axis==="y"){var o;return(o=P.default.number).isRequired.apply(o,r)}return P.default.number.apply(P.default,r)},handle:P.default.oneOfType([P.default.node,P.default.func]),handleSize:P.default.arrayOf(P.default.number),lockAspectRatio:P.default.bool,maxConstraints:P.default.arrayOf(P.default.number),minConstraints:P.default.arrayOf(P.default.number),onResizeStop:P.default.func,onResizeStart:P.default.func,onResize:P.default.func,resizeHandles:P.default.arrayOf(P.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:P.default.number,width:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(a.axis==="both"||a.axis==="x"){var o;return(o=P.default.number).isRequired.apply(o,r)}return P.default.number.apply(P.default,r)}};qe.resizableProps=qo;Ie.__esModule=!0;Ie.default=void 0;var ke=Yo(z),Bo=fn,Go=Jt,Fo=qe,Uo=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function pn(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(pn=function(a){return a?r:t})(e)}function Yo(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=pn(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function Ot(){return Ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ot.apply(this,arguments)}function Xo(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Sr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sr(Object(r),!0).forEach(function(n){Vo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vo(e,t,r){return t=Ko(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ko(e){var t=Zo(e,"string");return typeof t=="symbol"?t:String(t)}function Zo(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jo(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Pt(e,t)}function Pt(e,t){return Pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Pt(e,t)}var Qt=function(e){Jo(t,e);function t(){for(var n,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=e.call.apply(e,[this].concat(o))||this,n.handleRefs={},n.lastHandleRect=null,n.slack=null,n}var r=t.prototype;return r.componentWillUnmount=function(){this.resetData()},r.resetData=function(){this.lastHandleRect=this.slack=null},r.runConstraints=function(a,o){var s=this.props,l=s.minConstraints,i=s.maxConstraints,u=s.lockAspectRatio;if(!l&&!i&&!u)return[a,o];if(u){var c=this.props.width/this.props.height,d=a-this.props.width,p=o-this.props.height;Math.abs(d)>Math.abs(p*c)?o=a/c:a=o*c}var h=a,w=o,S=this.slack||[0,0],D=S[0],g=S[1];return a+=D,o+=g,l&&(a=Math.max(l[0],a),o=Math.max(l[1],o)),i&&(a=Math.min(i[0],a),o=Math.min(i[1],o)),this.slack=[D+(h-a),g+(w-o)],[a,o]},r.resizeHandler=function(a,o){var s=this;return function(l,i){var u=i.node,c=i.deltaX,d=i.deltaY;a==="onResizeStart"&&s.resetData();var p=(s.props.axis==="both"||s.props.axis==="x")&&o!=="n"&&o!=="s",h=(s.props.axis==="both"||s.props.axis==="y")&&o!=="e"&&o!=="w";if(!(!p&&!h)){var w=o[0],S=o[o.length-1],D=u.getBoundingClientRect();if(s.lastHandleRect!=null){if(S==="w"){var g=D.left-s.lastHandleRect.left;c+=g}if(w==="n"){var v=D.top-s.lastHandleRect.top;d+=v}}s.lastHandleRect=D,S==="w"&&(c=-c),w==="n"&&(d=-d);var y=s.props.width+(p?c/s.props.transformScale:0),x=s.props.height+(h?d/s.props.transformScale:0),m=s.runConstraints(y,x);y=m[0],x=m[1];var O=y!==s.props.width||x!==s.props.height,H=typeof s.props[a]=="function"?s.props[a]:null,$=a==="onResize"&&!O;H&&!$&&(l.persist==null||l.persist(),H(l,{node:u,size:{width:y,height:x},handle:o})),a==="onResizeStop"&&s.resetData()}}},r.renderResizeHandle=function(a,o){var s=this.props.handle;if(!s)return ke.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+a,ref:o});if(typeof s=="function")return s(a,o);var l=typeof s.type=="string",i=vt({ref:o},l?{}:{handleAxis:a});return ke.cloneElement(s,i)},r.render=function(){var a=this,o=this.props,s=o.children,l=o.className,i=o.draggableOpts;o.width,o.height,o.handle,o.handleSize,o.lockAspectRatio,o.axis,o.minConstraints,o.maxConstraints,o.onResize,o.onResizeStop,o.onResizeStart;var u=o.resizeHandles;o.transformScale;var c=Xo(o,Uo);return(0,Go.cloneElement)(s,vt(vt({},c),{},{className:(l?l+" ":"")+"react-resizable",children:[].concat(s.props.children,u.map(function(d){var p,h=(p=a.handleRefs[d])!=null?p:a.handleRefs[d]=ke.createRef();return ke.createElement(Bo.DraggableCore,Ot({},i,{nodeRef:h,key:"resizableHandle-"+d,onStop:a.resizeHandler("onResizeStop",d),onStart:a.resizeHandler("onResizeStart",d),onDrag:a.resizeHandler("onResize",d)}),a.renderResizeHandle(d,h))}))}))},t}(ke.Component);Ie.default=Qt;Qt.propTypes=Fo.resizableProps;Qt.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var ut={};ut.__esModule=!0;ut.default=void 0;var bt=ns(z),Qo=hn(ye),es=hn(Ie),ts=qe,rs=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function hn(e){return e&&e.__esModule?e:{default:e}}function gn(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(gn=function(a){return a?r:t})(e)}function ns(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=gn(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function Et(){return Et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Et.apply(this,arguments)}function Dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dr(Object(r),!0).forEach(function(n){as(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function as(e,t,r){return t=os(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function os(e){var t=ss(e,"string");return typeof t=="symbol"?t:String(t)}function ss(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function is(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function ls(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ct(e,t)}function Ct(e,t){return Ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ct(e,t)}var mn=function(e){ls(t,e);function t(){for(var n,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=e.call.apply(e,[this].concat(o))||this,n.state={width:n.props.width,height:n.props.height,propsWidth:n.props.width,propsHeight:n.props.height},n.onResize=function(l,i){var u=i.size;n.props.onResize?(l.persist==null||l.persist(),n.setState(u,function(){return n.props.onResize&&n.props.onResize(l,i)})):n.setState(u)},n}t.getDerivedStateFromProps=function(a,o){return o.propsWidth!==a.width||o.propsHeight!==a.height?{width:a.width,height:a.height,propsWidth:a.width,propsHeight:a.height}:null};var r=t.prototype;return r.render=function(){var a=this.props,o=a.handle,s=a.handleSize;a.onResize;var l=a.onResizeStart,i=a.onResizeStop,u=a.draggableOpts,c=a.minConstraints,d=a.maxConstraints,p=a.lockAspectRatio,h=a.axis;a.width,a.height;var w=a.resizeHandles,S=a.style,D=a.transformScale,g=is(a,rs);return bt.createElement(es.default,{axis:h,draggableOpts:u,handle:o,handleSize:s,height:this.state.height,lockAspectRatio:p,maxConstraints:d,minConstraints:c,onResizeStart:l,onResize:this.onResize,onResizeStop:i,resizeHandles:w,transformScale:D,width:this.state.width},bt.createElement("div",Et({},g,{style:Ke(Ke({},S),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},t}(bt.Component);ut.default=mn;mn.propTypes=Ke(Ke({},ts.resizableProps),{},{children:Qo.default.element});lt.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};lt.exports.Resizable=Ie.default;lt.exports.ResizableBox=ut.default;var us=lt.exports,pe={};Object.defineProperty(pe,"__esModule",{value:!0});pe.resizeHandleType=pe.resizeHandleAxesType=pe.default=void 0;var E=yn(ye),cs=yn(z);function yn(e){return e&&e.__esModule?e:{default:e}}const ds=pe.resizeHandleAxesType=E.default.arrayOf(E.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),fs=pe.resizeHandleType=E.default.oneOfType([E.default.node,E.default.func]);pe.default={className:E.default.string,style:E.default.object,width:E.default.number,autoSize:E.default.bool,cols:E.default.number,draggableCancel:E.default.string,draggableHandle:E.default.string,verticalCompact:function(e){e.verticalCompact},compactType:E.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;t!==void 0&&C.validateLayout(t,"layout")},margin:E.default.arrayOf(E.default.number),containerPadding:E.default.arrayOf(E.default.number),rowHeight:E.default.number,maxRows:E.default.number,isBounded:E.default.bool,isDraggable:E.default.bool,isResizable:E.default.bool,allowOverlap:E.default.bool,preventCollision:E.default.bool,useCSSTransforms:E.default.bool,transformScale:E.default.number,isDroppable:E.default.bool,resizeHandles:ds,resizeHandle:fs,onLayoutChange:E.default.func,onDragStart:E.default.func,onDrag:E.default.func,onDragStop:E.default.func,onResizeStart:E.default.func,onResize:E.default.func,onResizeStop:E.default.func,onDrop:E.default.func,droppingItem:E.default.shape({i:E.default.string.isRequired,w:E.default.number.isRequired,h:E.default.number.isRequired}),children:function(e,t){const r=e[t],n={};cs.default.Children.forEach(r,function(a){if((a==null?void 0:a.key)!=null){if(n[a.key])throw new Error('Duplicate child key "'+a.key+'" found! This will cause problems in ReactGridLayout.');n[a.key]=!0}})},innerRef:E.default.any};Object.defineProperty(nt,"__esModule",{value:!0});nt.default=void 0;var Ee=er(z),Rr=kt,M=er(ye),ps=fn,hs=us,Ce=C,Y=ce,_r=pe,gs=er(et);function er(e){return e&&e.__esModule?e:{default:e}}function le(e,t,r){return(t=ms(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ms(e){var t=ys(e,"string");return typeof t=="symbol"?t:t+""}function ys(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class tr extends Ee.default.Component{constructor(){super(...arguments),le(this,"state",{resizing:null,dragging:null,className:""}),le(this,"elementRef",Ee.default.createRef()),le(this,"onDragStart",(t,r)=>{let{node:n}=r;const{onDragStart:a,transformScale:o}=this.props;if(!a)return;const s={top:0,left:0},{offsetParent:l}=n;if(!l)return;const i=l.getBoundingClientRect(),u=n.getBoundingClientRect(),c=u.left/o,d=i.left/o,p=u.top/o,h=i.top/o;s.left=c-d+l.scrollLeft,s.top=p-h+l.scrollTop,this.setState({dragging:s});const{x:w,y:S}=(0,Y.calcXY)(this.getPositionParams(),s.top,s.left,this.props.w,this.props.h);return a.call(this,this.props.i,w,S,{e:t,node:n,newPosition:s})}),le(this,"onDrag",(t,r,n)=>{let{node:a,deltaX:o,deltaY:s}=r;const{onDrag:l}=this.props;if(!l)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let i=this.state.dragging.top+s,u=this.state.dragging.left+o;const{isBounded:c,i:d,w:p,h,containerWidth:w}=this.props,S=this.getPositionParams();if(c){const{offsetParent:y}=a;if(y){const{margin:x,rowHeight:m}=this.props,O=y.clientHeight-(0,Y.calcGridItemWHPx)(h,m,x[1]);i=(0,Y.clamp)(i,0,O);const H=(0,Y.calcGridColWidth)(S),$=w-(0,Y.calcGridItemWHPx)(p,H,x[0]);u=(0,Y.clamp)(u,0,$)}}const D={top:i,left:u};n?this.setState({dragging:D}):(0,Rr.flushSync)(()=>{this.setState({dragging:D})});const{x:g,y:v}=(0,Y.calcXY)(S,i,u,p,h);return l.call(this,d,g,v,{e:t,node:a,newPosition:D})}),le(this,"onDragStop",(t,r)=>{let{node:n}=r;const{onDragStop:a}=this.props;if(!a)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:o,h:s,i:l}=this.props,{left:i,top:u}=this.state.dragging,c={top:u,left:i};this.setState({dragging:null});const{x:d,y:p}=(0,Y.calcXY)(this.getPositionParams(),u,i,o,s);return a.call(this,l,d,p,{e:t,node:n,newPosition:c})}),le(this,"onResizeStop",(t,r,n)=>this.onResizeHandler(t,r,n,"onResizeStop")),le(this,"onResizeStart",(t,r,n)=>this.onResizeHandler(t,r,n,"onResizeStart")),le(this,"onResize",(t,r,n)=>this.onResizeHandler(t,r,n,"onResize"))}shouldComponentUpdate(t,r){if(this.props.children!==t.children||this.props.droppingPosition!==t.droppingPosition)return!0;const n=(0,Y.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),a=(0,Y.calcGridItemPosition)(this.getPositionParams(t),t.x,t.y,t.w,t.h,r);return!(0,Ce.fastPositionEqual)(n,a)||this.props.useCSSTransforms!==t.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(t){this.moveDroppingItem(t)}moveDroppingItem(t){const{droppingPosition:r}=this.props;if(!r)return;const n=this.elementRef.current;if(!n)return;const a=t.droppingPosition||{left:0,top:0},{dragging:o}=this.state,s=o&&r.left!==a.left||r.top!==a.top;if(!o)this.onDragStart(r.e,{node:n,deltaX:r.left,deltaY:r.top});else if(s){const l=r.left-o.left,i=r.top-o.top;this.onDrag(r.e,{node:n,deltaX:l,deltaY:i},!0)}}getPositionParams(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:t.cols,containerPadding:t.containerPadding,containerWidth:t.containerWidth,margin:t.margin,maxRows:t.maxRows,rowHeight:t.rowHeight}}createStyle(t){const{usePercentages:r,containerWidth:n,useCSSTransforms:a}=this.props;let o;return a?o=(0,Ce.setTransform)(t):(o=(0,Ce.setTopLeft)(t),r&&(o.left=(0,Ce.perc)(t.left/n),o.width=(0,Ce.perc)(t.width/n))),o}mixinDraggable(t,r){return Ee.default.createElement(ps.DraggableCore,{disabled:!r,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},t)}curryResizeHandler(t,r){return(n,a)=>r(n,a,t)}mixinResizable(t,r,n){const{cols:a,minW:o,minH:s,maxW:l,maxH:i,transformScale:u,resizeHandles:c,resizeHandle:d}=this.props,p=this.getPositionParams(),h=(0,Y.calcGridItemPosition)(p,0,0,a,0).width,w=(0,Y.calcGridItemPosition)(p,0,0,o,s),S=(0,Y.calcGridItemPosition)(p,0,0,l,i),D=[w.width,w.height],g=[Math.min(S.width,h),Math.min(S.height,1/0)];return Ee.default.createElement(hs.Resizable,{draggableOpts:{disabled:!n},className:n?void 0:"react-resizable-hide",width:r.width,height:r.height,minConstraints:D,maxConstraints:g,onResizeStop:this.curryResizeHandler(r,this.onResizeStop),onResizeStart:this.curryResizeHandler(r,this.onResizeStart),onResize:this.curryResizeHandler(r,this.onResize),transformScale:u,resizeHandles:c,handle:d},t)}onResizeHandler(t,r,n,a){let{node:o,size:s,handle:l}=r;const i=this.props[a];if(!i)return;const{x:u,y:c,i:d,maxH:p,minH:h,containerWidth:w}=this.props,{minW:S,maxW:D}=this.props;let g=s;o&&(g=(0,Ce.resizeItemInDirection)(l,n,s,w),(0,Rr.flushSync)(()=>{this.setState({resizing:a==="onResizeStop"?null:g})}));let{w:v,h:y}=(0,Y.calcWH)(this.getPositionParams(),g.width,g.height,u,c,l);v=(0,Y.clamp)(v,Math.max(S,1),D),y=(0,Y.clamp)(y,h,p),i.call(this,d,v,y,{e:t,node:o,size:g,handle:l})}render(){const{x:t,y:r,w:n,h:a,isDraggable:o,isResizable:s,droppingPosition:l,useCSSTransforms:i}=this.props,u=(0,Y.calcGridItemPosition)(this.getPositionParams(),t,r,n,a,this.state),c=Ee.default.Children.only(this.props.children);let d=Ee.default.cloneElement(c,{ref:this.elementRef,className:(0,gs.default)("react-grid-item",c.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":o,"react-draggable-dragging":!!this.state.dragging,dropping:!!l,cssTransforms:i}),style:{...this.props.style,...c.props.style,...this.createStyle(u)}});return d=this.mixinResizable(d,u,s),d=this.mixinDraggable(d,o),d}}nt.default=tr;le(tr,"propTypes",{children:M.default.element,cols:M.default.number.isRequired,containerWidth:M.default.number.isRequired,rowHeight:M.default.number.isRequired,margin:M.default.array.isRequired,maxRows:M.default.number.isRequired,containerPadding:M.default.array.isRequired,x:M.default.number.isRequired,y:M.default.number.isRequired,w:M.default.number.isRequired,h:M.default.number.isRequired,minW:function(e,t){const r=e[t];if(typeof r!="number")return new Error("minWidth not Number");if(r>e.w||r>e.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(e,t){const r=e[t];if(typeof r!="number")return new Error("maxWidth not Number");if(r<e.w||r<e.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(e,t){const r=e[t];if(typeof r!="number")return new Error("minHeight not Number");if(r>e.h||r>e.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(e,t){const r=e[t];if(typeof r!="number")return new Error("maxHeight not Number");if(r<e.h||r<e.minH)return new Error("maxHeight smaller than item height/minHeight")},i:M.default.string.isRequired,resizeHandles:_r.resizeHandleAxesType,resizeHandle:_r.resizeHandleType,onDragStop:M.default.func,onDragStart:M.default.func,onDrag:M.default.func,onResizeStop:M.default.func,onResizeStart:M.default.func,onResize:M.default.func,isDraggable:M.default.bool.isRequired,isResizable:M.default.bool.isRequired,isBounded:M.default.bool.isRequired,static:M.default.bool,useCSSTransforms:M.default.bool.isRequired,transformScale:M.default.number,className:M.default.string,handle:M.default.string,cancel:M.default.string,droppingPosition:M.default.shape({e:M.default.object.isRequired,left:M.default.number.isRequired,top:M.default.number.isRequired})});le(tr,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1});Object.defineProperty(Ae,"__esModule",{value:!0});Ae.default=void 0;var xe=vn(z),wt=Nt,vs=rr(et),R=C,bs=ce,Or=rr(nt),ws=rr(pe);function rr(e){return e&&e.__esModule?e:{default:e}}function vn(e,t){if(typeof WeakMap=="function")var r=new WeakMap,n=new WeakMap;return(vn=function(a,o){if(!o&&a&&a.__esModule)return a;var s,l,i={__proto__:null,default:a};if(a===null||typeof a!="object"&&typeof a!="function")return i;if(s=o?n:r){if(s.has(a))return s.get(a);s.set(a,i)}for(const u in a)u!=="default"&&{}.hasOwnProperty.call(a,u)&&((l=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(a,u))&&(l.get||l.set)?s(i,u,l):i[u]=a[u]);return i})(e,t)}function V(e,t,r){return(t=xs(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xs(e){var t=Ss(e,"string");return typeof t=="symbol"?t:t+""}function Ss(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Pr="react-grid-layout";let bn=!1;try{bn=/firefox/i.test(navigator.userAgent)}catch{}class ct extends xe.Component{constructor(){super(...arguments),V(this,"state",{activeDrag:null,layout:(0,R.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,R.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),V(this,"dragEnterCounter",0),V(this,"onDragStart",(t,r,n,a)=>{let{e:o,node:s}=a;const{layout:l}=this.state,i=(0,R.getLayoutItem)(l,t);if(!i)return;const u={w:i.w,h:i.h,x:i.x,y:i.y,placeholder:!0,i:t};return this.setState({oldDragItem:(0,R.cloneLayoutItem)(i),oldLayout:l,activeDrag:u}),this.props.onDragStart(l,i,i,null,o,s)}),V(this,"onDrag",(t,r,n,a)=>{let{e:o,node:s}=a;const{oldDragItem:l}=this.state;let{layout:i}=this.state;const{cols:u,allowOverlap:c,preventCollision:d}=this.props,p=(0,R.getLayoutItem)(i,t);if(!p)return;const h={w:p.w,h:p.h,x:p.x,y:p.y,placeholder:!0,i:t};i=(0,R.moveElement)(i,p,r,n,!0,d,(0,R.compactType)(this.props),u,c),this.props.onDrag(i,l,p,h,o,s),this.setState({layout:c?i:(0,R.compact)(i,(0,R.compactType)(this.props),u),activeDrag:h})}),V(this,"onDragStop",(t,r,n,a)=>{let{e:o,node:s}=a;if(!this.state.activeDrag)return;const{oldDragItem:l}=this.state;let{layout:i}=this.state;const{cols:u,preventCollision:c,allowOverlap:d}=this.props,p=(0,R.getLayoutItem)(i,t);if(!p)return;i=(0,R.moveElement)(i,p,r,n,!0,c,(0,R.compactType)(this.props),u,d);const w=d?i:(0,R.compact)(i,(0,R.compactType)(this.props),u);this.props.onDragStop(w,l,p,null,o,s);const{oldLayout:S}=this.state;this.setState({activeDrag:null,layout:w,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(w,S)}),V(this,"onResizeStart",(t,r,n,a)=>{let{e:o,node:s}=a;const{layout:l}=this.state,i=(0,R.getLayoutItem)(l,t);i&&(this.setState({oldResizeItem:(0,R.cloneLayoutItem)(i),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(l,i,i,null,o,s))}),V(this,"onResize",(t,r,n,a)=>{let{e:o,node:s,size:l,handle:i}=a;const{oldResizeItem:u}=this.state,{layout:c}=this.state,{cols:d,preventCollision:p,allowOverlap:h}=this.props;let w=!1,S,D,g;const[v,y]=(0,R.withLayoutItem)(c,t,m=>{let O;return D=m.x,g=m.y,["sw","w","nw","n","ne"].indexOf(i)!==-1&&(["sw","nw","w"].indexOf(i)!==-1&&(D=m.x+(m.w-r),r=m.x!==D&&D<0?m.w:r,D=D<0?0:D),["ne","n","nw"].indexOf(i)!==-1&&(g=m.y+(m.h-n),n=m.y!==g&&g<0?m.h:n,g=g<0?0:g),w=!0),p&&!h&&(O=(0,R.getAllCollisions)(c,{...m,w:r,h:n,x:D,y:g}).filter($=>$.i!==m.i).length>0,O&&(g=m.y,n=m.h,D=m.x,r=m.w,w=!1)),m.w=r,m.h=n,m});if(!y)return;S=v,w&&(S=(0,R.moveElement)(v,y,D,g,!0,this.props.preventCollision,(0,R.compactType)(this.props),d,h));const x={w:y.w,h:y.h,x:y.x,y:y.y,static:!0,i:t};this.props.onResize(S,u,y,x,o,s),this.setState({layout:h?S:(0,R.compact)(S,(0,R.compactType)(this.props),d),activeDrag:x})}),V(this,"onResizeStop",(t,r,n,a)=>{let{e:o,node:s}=a;const{layout:l,oldResizeItem:i}=this.state,{cols:u,allowOverlap:c}=this.props,d=(0,R.getLayoutItem)(l,t),p=c?l:(0,R.compact)(l,(0,R.compactType)(this.props),u);this.props.onResizeStop(p,i,d,null,o,s);const{oldLayout:h}=this.state;this.setState({activeDrag:null,layout:p,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(p,h)}),V(this,"onDragOver",t=>{var v;if(t.preventDefault(),t.stopPropagation(),bn&&!((v=t.nativeEvent.target)!=null&&v.classList.contains(Pr)))return!1;const{droppingItem:r,onDropDragOver:n,margin:a,cols:o,rowHeight:s,maxRows:l,width:i,containerPadding:u,transformScale:c}=this.props,d=n==null?void 0:n(t);if(d===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const p={...r,...d},{layout:h}=this.state,w=t.currentTarget.getBoundingClientRect(),S=t.clientX-w.left,D=t.clientY-w.top,g={left:S/c,top:D/c,e:t};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:y,top:x}=this.state.droppingPosition;(y!=S||x!=D)&&this.setState({droppingPosition:g})}}else{const y={cols:o,margin:a,maxRows:l,rowHeight:s,containerWidth:i,containerPadding:u||a},x=(0,bs.calcXY)(y,D,S,p.w,p.h);this.setState({droppingDOMNode:xe.createElement("div",{key:p.i}),droppingPosition:g,layout:[...h,{...p,x:x.x,y:x.y,static:!1,isDraggable:!0}]})}}),V(this,"removeDroppingPlaceholder",()=>{const{droppingItem:t,cols:r}=this.props,{layout:n}=this.state,a=(0,R.compact)(n.filter(o=>o.i!==t.i),(0,R.compactType)(this.props),r,this.props.allowOverlap);this.setState({layout:a,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),V(this,"onDragLeave",t=>{t.preventDefault(),t.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),V(this,"onDragEnter",t=>{t.preventDefault(),t.stopPropagation(),this.dragEnterCounter++}),V(this,"onDrop",t=>{t.preventDefault(),t.stopPropagation();const{droppingItem:r}=this.props,{layout:n}=this.state,a=n.find(o=>o.i===r.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(n,a,t)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(t,r){let n;return r.activeDrag?null:(!(0,wt.deepEqual)(t.layout,r.propsLayout)||t.compactType!==r.compactType?n=t.layout:(0,R.childrenEqual)(t.children,r.children)||(n=r.layout),n?{layout:(0,R.synchronizeLayoutWithChildren)(n,t.children,t.cols,(0,R.compactType)(t),t.allowOverlap),compactType:t.compactType,children:t.children,propsLayout:t.layout}:null)}shouldComponentUpdate(t,r){return this.props.children!==t.children||!(0,R.fastRGLPropsEqual)(this.props,t,wt.deepEqual)||this.state.activeDrag!==r.activeDrag||this.state.mounted!==r.mounted||this.state.droppingPosition!==r.droppingPosition}componentDidUpdate(t,r){if(!this.state.activeDrag){const n=this.state.layout,a=r.layout;this.onLayoutMaybeChanged(n,a)}}containerHeight(){if(!this.props.autoSize)return;const t=(0,R.bottom)(this.state.layout),r=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return t*this.props.rowHeight+(t-1)*this.props.margin[1]+r*2+"px"}onLayoutMaybeChanged(t,r){r||(r=this.state.layout),(0,wt.deepEqual)(r,t)||this.props.onLayoutChange(t)}placeholder(){const{activeDrag:t}=this.state;if(!t)return null;const{width:r,cols:n,margin:a,containerPadding:o,rowHeight:s,maxRows:l,useCSSTransforms:i,transformScale:u}=this.props;return xe.createElement(Or.default,{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,className:`react-grid-placeholder ${this.state.resizing?"placeholder-resizing":""}`,containerWidth:r,cols:n,margin:a,containerPadding:o||a,maxRows:l,rowHeight:s,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:i,transformScale:u},xe.createElement("div",null))}processGridItem(t,r){if(!t||!t.key)return;const n=(0,R.getLayoutItem)(this.state.layout,String(t.key));if(!n)return null;const{width:a,cols:o,margin:s,containerPadding:l,rowHeight:i,maxRows:u,isDraggable:c,isResizable:d,isBounded:p,useCSSTransforms:h,transformScale:w,draggableCancel:S,draggableHandle:D,resizeHandles:g,resizeHandle:v}=this.props,{mounted:y,droppingPosition:x}=this.state,m=typeof n.isDraggable=="boolean"?n.isDraggable:!n.static&&c,O=typeof n.isResizable=="boolean"?n.isResizable:!n.static&&d,H=n.resizeHandles||g,$=m&&p&&n.isBounded!==!1;return xe.createElement(Or.default,{containerWidth:a,cols:o,margin:s,containerPadding:l||s,maxRows:u,rowHeight:i,cancel:S,handle:D,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:m,isResizable:O,isBounded:$,useCSSTransforms:h&&y,usePercentages:!y,transformScale:w,w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,minH:n.minH,minW:n.minW,maxH:n.maxH,maxW:n.maxW,static:n.static,droppingPosition:r?x:void 0,resizeHandles:H,resizeHandle:v},t)}render(){const{className:t,style:r,isDroppable:n,innerRef:a}=this.props,o=(0,vs.default)(Pr,t),s={height:this.containerHeight(),...r};return xe.createElement("div",{ref:a,className:o,style:s,onDrop:n?this.onDrop:R.noop,onDragLeave:n?this.onDragLeave:R.noop,onDragEnter:n?this.onDragEnter:R.noop,onDragOver:n?this.onDragOver:R.noop},xe.Children.map(this.props.children,l=>this.processGridItem(l)),n&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}Ae.default=ct;V(ct,"displayName","ReactGridLayout");V(ct,"propTypes",ws.default);V(ct,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:R.noop,onDragStart:R.noop,onDrag:R.noop,onDragStop:R.noop,onResizeStart:R.noop,onResize:R.noop,onResizeStop:R.noop,onDrop:R.noop,onDropDragOver:R.noop});var dt={},Pe={};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.findOrGenerateResponsiveLayout=_s;Pe.getBreakpointFromWidth=Ds;Pe.getColsFromBreakpoint=Rs;Pe.sortBreakpoints=nr;var Fe=C;function Ds(e,t){const r=nr(e);let n=r[0];for(let a=1,o=r.length;a<o;a++){const s=r[a];t>e[s]&&(n=s)}return n}function Rs(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]}function _s(e,t,r,n,a,o){if(e[r])return(0,Fe.cloneLayout)(e[r]);let s=e[n];const l=nr(t),i=l.slice(l.indexOf(r));for(let u=0,c=i.length;u<c;u++){const d=i[u];if(e[d]){s=e[d];break}}return s=(0,Fe.cloneLayout)(s||[]),(0,Fe.compact)((0,Fe.correctBounds)(s,{cols:a}),o,a)}function nr(e){return Object.keys(e).sort(function(r,n){return e[r]-e[n]})}Object.defineProperty(dt,"__esModule",{value:!0});dt.default=void 0;var Er=xn(z),Q=wn(ye),xt=Nt,Me=C,Se=Pe,Os=wn(Ae);function wn(e){return e&&e.__esModule?e:{default:e}}function xn(e,t){if(typeof WeakMap=="function")var r=new WeakMap,n=new WeakMap;return(xn=function(a,o){if(!o&&a&&a.__esModule)return a;var s,l,i={__proto__:null,default:a};if(a===null||typeof a!="object"&&typeof a!="function")return i;if(s=o?n:r){if(s.has(a))return s.get(a);s.set(a,i)}for(const u in a)u!=="default"&&{}.hasOwnProperty.call(a,u)&&((l=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(a,u))&&(l.get||l.set)?s(i,u,l):i[u]=a[u]);return i})(e,t)}function zt(){return zt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zt.apply(null,arguments)}function Ze(e,t,r){return(t=Ps(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ps(e){var t=Es(e,"string");return typeof t=="symbol"?t:t+""}function Es(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Cr=e=>Object.prototype.toString.call(e);function Ue(e,t){return e==null?null:Array.isArray(e)?e:e[t]}class ar extends Er.Component{constructor(){super(...arguments),Ze(this,"state",this.generateInitialState()),Ze(this,"onLayoutChange",t=>{this.props.onLayoutChange(t,{...this.props.layouts,[this.state.breakpoint]:t})})}generateInitialState(){const{width:t,breakpoints:r,layouts:n,cols:a}=this.props,o=(0,Se.getBreakpointFromWidth)(r,t),s=(0,Se.getColsFromBreakpoint)(o,a),l=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,Se.findOrGenerateResponsiveLayout)(n,r,o,o,s,l),breakpoint:o,cols:s}}static getDerivedStateFromProps(t,r){if(!(0,xt.deepEqual)(t.layouts,r.layouts)){const{breakpoint:n,cols:a}=r;return{layout:(0,Se.findOrGenerateResponsiveLayout)(t.layouts,t.breakpoints,n,n,a,t.compactType),layouts:t.layouts}}return null}componentDidUpdate(t){(this.props.width!=t.width||this.props.breakpoint!==t.breakpoint||!(0,xt.deepEqual)(this.props.breakpoints,t.breakpoints)||!(0,xt.deepEqual)(this.props.cols,t.cols))&&this.onWidthChange(t)}onWidthChange(t){const{breakpoints:r,cols:n,layouts:a,compactType:o}=this.props,s=this.props.breakpoint||(0,Se.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),l=this.state.breakpoint,i=(0,Se.getColsFromBreakpoint)(s,n),u={...a};if(l!==s||t.breakpoints!==r||t.cols!==n){l in u||(u[l]=(0,Me.cloneLayout)(this.state.layout));let p=(0,Se.findOrGenerateResponsiveLayout)(u,r,s,l,i,o);p=(0,Me.synchronizeLayoutWithChildren)(p,this.props.children,i,o,this.props.allowOverlap),u[s]=p,this.props.onBreakpointChange(s,i),this.props.onLayoutChange(p,u),this.setState({breakpoint:s,layout:p,cols:i})}const c=Ue(this.props.margin,s),d=Ue(this.props.containerPadding,s);this.props.onWidthChange(this.props.width,c,i,d)}render(){const{breakpoint:t,breakpoints:r,cols:n,layouts:a,margin:o,containerPadding:s,onBreakpointChange:l,onLayoutChange:i,onWidthChange:u,...c}=this.props;return Er.createElement(Os.default,zt({},c,{margin:Ue(o,this.state.breakpoint),containerPadding:Ue(s,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}dt.default=ar;Ze(ar,"propTypes",{breakpoint:Q.default.string,breakpoints:Q.default.object,allowOverlap:Q.default.bool,cols:Q.default.object,margin:Q.default.oneOfType([Q.default.array,Q.default.object]),containerPadding:Q.default.oneOfType([Q.default.array,Q.default.object]),layouts(e,t){if(Cr(e[t])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+Cr(e[t]));Object.keys(e[t]).forEach(r=>{if(!(r in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,Me.validateLayout)(e.layouts[r],"layouts."+r)})},width:Q.default.number.isRequired,onBreakpointChange:Q.default.func,onLayoutChange:Q.default.func,onWidthChange:Q.default.func});Ze(ar,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:Me.noop,onLayoutChange:Me.noop,onWidthChange:Me.noop});var or={},Sn=function(){if(typeof Map<"u")return Map;function e(t,r){var n=-1;return t.some(function(a,o){return a[0]===r?(n=o,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),a=this.__entries__[n];return a&&a[1]},t.prototype.set=function(r,n){var a=e(this.__entries__,r);~a?this.__entries__[a][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,a=e(n,r);~a&&n.splice(a,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var a=0,o=this.__entries__;a<o.length;a++){var s=o[a];r.call(n,s[1],s[0])}},t}()}(),jt=typeof window<"u"&&typeof document<"u"&&window.document===document,Je=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Cs=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Je):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),zs=2;function js(e,t){var r=!1,n=!1,a=0;function o(){r&&(r=!1,e()),n&&l()}function s(){Cs(o)}function l(){var i=Date.now();if(r){if(i-a<zs)return;n=!0}else r=!0,n=!1,setTimeout(s,t);a=i}return l}var Ms=20,Ts=["top","right","bottom","left","width","height","size","weight"],Ls=typeof MutationObserver<"u",Hs=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=js(this.refresh.bind(this),Ms)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!jt||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Ls?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!jt||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,a=Ts.some(function(o){return!!~n.indexOf(o)});a&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Dn=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var a=n[r];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},Le=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||Je},Rn=ft(0,0,0,0);function Qe(e){return parseFloat(e)||0}function zr(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,a){var o=e["border-"+a+"-width"];return n+Qe(o)},0)}function $s(e){for(var t=["top","right","bottom","left"],r={},n=0,a=t;n<a.length;n++){var o=a[n],s=e["padding-"+o];r[o]=Qe(s)}return r}function ks(e){var t=e.getBBox();return ft(0,0,t.width,t.height)}function Ws(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return Rn;var n=Le(e).getComputedStyle(e),a=$s(n),o=a.left+a.right,s=a.top+a.bottom,l=Qe(n.width),i=Qe(n.height);if(n.boxSizing==="border-box"&&(Math.round(l+o)!==t&&(l-=zr(n,"left","right")+o),Math.round(i+s)!==r&&(i-=zr(n,"top","bottom")+s)),!As(e)){var u=Math.round(l+o)-t,c=Math.round(i+s)-r;Math.abs(u)!==1&&(l-=u),Math.abs(c)!==1&&(i-=c)}return ft(a.left,a.top,l,i)}var Ns=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof Le(e).SVGGraphicsElement}:function(e){return e instanceof Le(e).SVGElement&&typeof e.getBBox=="function"}}();function As(e){return e===Le(e).document.documentElement}function Is(e){return jt?Ns(e)?ks(e):Ws(e):Rn}function qs(e){var t=e.x,r=e.y,n=e.width,a=e.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return Dn(s,{x:t,y:r,width:n,height:a,top:r,right:t+n,bottom:a+r,left:t}),s}function ft(e,t,r,n){return{x:e,y:t,width:r,height:n}}var Bs=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ft(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=Is(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),Gs=function(){function e(t,r){var n=qs(r);Dn(this,{target:t,contentRect:n})}return e}(),Fs=function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new Sn,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Le(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)||(r.set(t,new Bs(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Le(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new Gs(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),_n=typeof WeakMap<"u"?new WeakMap:new Sn,On=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=Hs.getInstance(),n=new Fs(t,r,this);_n.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach(function(e){On.prototype[e]=function(){var t;return(t=_n.get(this))[e].apply(t,arguments)}});var Us=function(){return typeof Je.ResizeObserver<"u"?Je.ResizeObserver:On}();const Ys=Object.freeze(Object.defineProperty({__proto__:null,default:Us},Symbol.toStringTag,{value:"Module"})),Xs=Ar(Ys);Object.defineProperty(or,"__esModule",{value:!0});or.default=ti;var Ye=Pn(z),Vs=sr(ye),Ks=sr(Xs),Zs=sr(et);function sr(e){return e&&e.__esModule?e:{default:e}}function Pn(e,t){if(typeof WeakMap=="function")var r=new WeakMap,n=new WeakMap;return(Pn=function(a,o){if(!o&&a&&a.__esModule)return a;var s,l,i={__proto__:null,default:a};if(a===null||typeof a!="object"&&typeof a!="function")return i;if(s=o?n:r){if(s.has(a))return s.get(a);s.set(a,i)}for(const u in a)u!=="default"&&{}.hasOwnProperty.call(a,u)&&((l=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(a,u))&&(l.get||l.set)?s(i,u,l):i[u]=a[u]);return i})(e,t)}function Mt(){return Mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mt.apply(null,arguments)}function ze(e,t,r){return(t=Js(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Js(e){var t=Qs(e,"string");return typeof t=="symbol"?t:t+""}function Qs(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const ei="react-grid-layout";function ti(e){var t;return t=class extends Ye.Component{constructor(){super(...arguments),ze(this,"state",{width:1280}),ze(this,"elementRef",Ye.createRef()),ze(this,"mounted",!1),ze(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new Ks.default(a=>{if(this.elementRef.current instanceof HTMLElement){const s=a[0].contentRect.width;this.setState({width:s})}});const n=this.elementRef.current;n instanceof HTMLElement&&this.resizeObserver.observe(n)}componentWillUnmount(){this.mounted=!1;const n=this.elementRef.current;n instanceof HTMLElement&&this.resizeObserver.unobserve(n),this.resizeObserver.disconnect()}render(){const{measureBeforeMount:n,...a}=this.props;return n&&!this.mounted?Ye.createElement("div",{className:(0,Zs.default)(this.props.className,ei),style:this.props.style,ref:this.elementRef}):Ye.createElement(e,Mt({innerRef:this.elementRef},a,this.state))}},ze(t,"defaultProps",{measureBeforeMount:!1}),ze(t,"propTypes",{measureBeforeMount:Vs.default.bool}),t}(function(e){e.exports=Ae.default,e.exports.utils=C,e.exports.calculateUtils=ce,e.exports.Responsive=dt.default,e.exports.Responsive.utils=Pe,e.exports.WidthProvider=or.default})(Gr);var En=Gr.exports;const ri=ea(En),ni=En.WidthProvider(ri),ai=re("div")(({theme:e})=>({"& .react-grid-item":{borderRadius:`${e.shape.borderRadiusMedium}px`},"& .grid-item-drag-handle":{[e.breakpoints.down("md")]:{display:"none"}}})),oi=({items:e,onLayoutChange:t,cols:r={lg:12,md:12,sm:6,xs:4,xxs:2},rowHeight:n=180})=>{const a=$t(),o=Wr(a.breakpoints.down("md")),s=z.useMemo(()=>{if(o){let u=0;return e.map(c=>{const d={i:c.id,x:0,y:u,w:r.xs,h:c.h??4,minW:r.xs,minH:c.minH??3,maxW:r.xs,maxH:c.maxH??8,static:!1};return u+=d.h,d})}return e.map((u,c)=>({i:u.id,x:u.x??c%Math.floor(r.lg/(u.w??4))*(u.w??4),y:u.y??Math.floor(c/Math.floor(r.lg/(u.w??4)))*(u.h??4),w:u.w??4,h:u.h??4,minW:u.minW??4,minH:u.minH??3,maxW:u.maxW??12,maxH:u.maxH??8,static:u.static??!1}))},[e,r,o]),l=z.useMemo(()=>e.map(u=>f.jsx("div",{children:u.component},u.id)),[e]),i=z.useCallback(u=>{o||t==null||t(u)},[t,o]);return f.jsx(ai,{children:f.jsx(ni,{className:"impact-metrics-grid",layout:s,cols:o?r.xs:r.lg,rowHeight:n,margin:[Number.parseInt(a.spacing(2)),Number.parseInt(a.spacing(2))],containerPadding:[0,0],isDraggable:!o,isResizable:!o,onLayoutChange:i,resizeHandles:["se"],draggableHandle:".grid-item-drag-handle",compactType:o?null:"vertical",preventCollision:!1,useCSSTransforms:!0,autoSize:!0,allowOverlap:!1,children:l})})},si=()=>{const e="api/admin/impact-metrics/settings",{data:t,refetch:r,loading:n,error:a}=Tt(Te(e),()=>Lt(Te(e),"Impact metrics settings"));return{settings:t||{charts:[],layout:[]},refetch:r,loading:n,error:a}},ii=()=>{const{makeRequest:e,createRequest:t,errors:r,loading:n}=ta({propagateErrors:!0});return{updateSettings:z.useCallback(async o=>{const l=t("api/admin/impact-metrics/settings",{method:"PUT",body:JSON.stringify(o)},"updateImpactMetricsSettings");return e(l.caller,l.id)},[e,t]),errors:r,loading:n}},li=()=>{const{settings:e,loading:t,error:r,refetch:n}=si(),{updateSettings:a,loading:o,errors:s}=ii(),l=z.useCallback(async d=>{const p={...d,id:`chart-${Date.now()}-${Math.random().toString(36).substr(2,9)}`},h=e.layout.length>0?Math.max(...e.layout.map(S=>S.y+S.h)):0,w={charts:[...e.charts,p],layout:[...e.layout,{i:p.id,x:0,y:h,w:6,h:4,minW:4,minH:2,maxW:12,maxH:8}]};await a(w),n()},[e,a,n]),i=z.useCallback(async(d,p)=>{const w={charts:e.charts.map(S=>S.id===d?{...S,...p}:S),layout:e.layout};await a(w),n()},[e,a,n]),u=z.useCallback(async d=>{const p={charts:e.charts.filter(h=>h.id!==d),layout:e.layout.filter(h=>h.i!==d)};await a(p),n()},[e,a,n]),c=z.useCallback(async d=>{const p={charts:e.charts,layout:d};await a(p),n()},[e,a,n]);return{charts:e.charts||[],layout:e.layout||[],loading:t||o,error:r||Object.keys(s).length>0?s:void 0,addChart:l,updateChart:i,deleteChart:u,updateLayout:c}},ui=re(Nr)(({theme:e})=>({textAlign:"center",padding:e.spacing(8),backgroundColor:e.palette.background.default,borderRadius:`${e.shape.borderRadiusMedium}px`,boxShadow:"none"})),ci=()=>{const[e,t]=z.useState(!1),[r,n]=z.useState(),{setToastApiError:a}=ra(),{charts:o,layout:s,loading:l,error:i,addChart:u,updateChart:c,deleteChart:d,updateLayout:p}=li(),{metadata:h,loading:w,error:S}=aa(),D=z.useMemo(()=>h!=null&&h.series?Object.entries(h.series).map(([j,W])=>({name:j,...W})):[],[h]),g=()=>{n(void 0),t(!0)},v=j=>{n(j),t(!0)},y=async j=>{try{r?await c(r.id,j):await u(j),t(!1)}catch(W){a(ht(W))}},x=z.useCallback(async j=>{try{await p(j)}catch(W){a(ht(W))}},[p,a]),m=z.useCallback(async j=>{try{await d(j)}catch(W){a(ht(W))}},[d]),O=z.useMemo(()=>o.map((j,W)=>{const F=s==null?void 0:s.find(ve=>ve.i===j.id);return{id:j.id,component:f.jsx(ja,{config:j,onEdit:v,onDelete:m}),w:(F==null?void 0:F.w)??6,h:(F==null?void 0:F.h)??4,x:F==null?void 0:F.x,y:F==null?void 0:F.y,minW:4,minH:2,maxW:12,maxH:8}}),[o,s,v,m]),H=S||i,$=w||l;return f.jsxs(f.Fragment,{children:[f.jsx(na,{title:"Impact Metrics",titleElement:f.jsx(ue,{variant:"h1",component:"span",children:"Impact Metrics"}),actions:f.jsx(Ve,{variant:"contained",startIcon:f.jsx(pr,{}),onClick:g,disabled:$||!!H,children:"Add Chart"})}),o.length===0&&!$&&!H?f.jsxs(ui,{children:[f.jsx(ue,{variant:"h6",gutterBottom:!0,children:"No charts configured"}),f.jsx(ue,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Add your first impact metrics chart to start tracking performance with a beautiful drag-and-drop grid layout"}),f.jsx(Ve,{variant:"contained",startIcon:f.jsx(pr,{}),onClick:g,disabled:$||!!H,children:"Add Chart"})]}):o.length>0?f.jsx(oi,{items:O,onLayoutChange:x}):null,f.jsx(va,{open:e,onClose:()=>t(!1),onSave:y,initialConfig:r,metricSeries:D,loading:w||l})]})},di=re("div")(({theme:e})=>({paddingTop:e.spacing(2)})),fi=re("div")(({theme:e})=>({display:"flex",flexDirection:"column",gap:e.spacing(4),paddingBottom:e.spacing(4)})),mi=()=>f.jsx(di,{children:f.jsx(fi,{children:f.jsx(ci,{})})});export{mi as ImpactMetricsPage};
